/*---------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/
/*!
  Â© Microsoft. All rights reserved.

  This library is supported for use in Windows Store apps only.

  Build: 1.0.8514.0.win8_rtm.120711-1900
  
  Version: Microsoft.WinJS.1.0
*/
"undefined"==typeof WinJS&&(function(e){e.setImmediate||(e.setImmediate=function(t){return e.setTimeout(t,0)})}(this),function(e,t){"use strict";function n(e,n){var i,o,r,s=Object.keys(n);for(o=0,r=s.length;r>o;o++){var a=s[o],u=95!==a.charCodeAt(0),l=n[a];!l||"object"!=typeof l||l.value===t&&"function"!=typeof l.get&&"function"!=typeof l.set?u?e[a]=l:(i=i||{},i[a]={value:l,enumerable:u,configurable:!0,writable:!0}):(l.enumerable===t&&(l.enumerable=u),i=i||{},i[a]=l)}i&&Object.defineProperties(e,i)}!function(t){function i(e,t,i){for(var o=e,r=t.split("."),s=0,a=r.length;a>s;s++){var u=r[s];o[u]||Object.defineProperty(o,u,{value:{},writable:!1,enumerable:!0,configurable:!0}),o=o[u]}return i&&n(o,i),o}function o(t,n){return i(e,t,n)}e[t]||(e[t]=Object.create(Object.prototype));var r=e[t];r.Namespace||(r.Namespace=Object.create(Object.prototype)),Object.defineProperties(r.Namespace,{defineWithParent:{value:i,writable:!0,enumerable:!0,configurable:!0},define:{value:o,writable:!0,enumerable:!0,configurable:!0}})}("WinJS"),function(e){function t(t,i,o){return t=t||function(){},e.Utilities.markSupportedForProcessing(t),i&&n(t.prototype,i),o&&n(t,o),t}function i(i,o,r,s){if(i){o=o||function(){};var a=i.prototype;return o.prototype=Object.create(a),e.Utilities.markSupportedForProcessing(o),Object.defineProperty(o.prototype,"constructor",{value:o,writable:!0,configurable:!0,enumerable:!0}),r&&n(o.prototype,r),s&&n(o,s),o}return t(o,r,s)}function o(e){e=e||function(){};var t,i;for(t=1,i=arguments.length;i>t;t++)n(e.prototype,arguments[t]);return e}e.Namespace.define("WinJS.Class",{define:t,derive:i,mix:o})}(WinJS)}(this),function(e,t){"use strict";function n(e){return e}function i(e,t,n){return e.split(".").reduce(function(e,t){return e?n(e[t]):null},t)}var o=!!e.Windows,r={notSupportedForProcessing:"Value is not supported within a declarative processing context, if you want it to be supported mark it using WinJS.Utilities.markSupportedForProcessing. The value was: '{0}'"};t.Namespace.define("WinJS.Utilities",{_setHasWinRT:{value:function(e){o=e},configurable:!1,writable:!1,enumerable:!1},hasWinRT:{get:function(){return o},configurable:!1,enumerable:!0},_getMemberFiltered:i,getMember:function(t,o){return t?i(t,o||e,n):null},ready:function(n,i){return new t.Promise(function(o,r){function s(){if(n)try{n(),o()}catch(e){r(e)}else o()}var a=t.Utilities.testReadyState;a||(a=e.document?document.readyState:"complete"),"complete"===a||e.document&&null!==document.body?i?e.setImmediate(s):s():e.addEventListener("DOMContentLoaded",s,!1)})},strictProcessing:{get:function(){return!0},configurable:!1,enumerable:!0},markSupportedForProcessing:{value:function(e){return e.supportedForProcessing=!0,e},configurable:!1,writable:!1,enumerable:!0},requireSupportedForProcessing:{value:function(n){var i=!0;switch(i=i&&!(n===e),i=i&&!(n===e.location),i=i&&!(n instanceof HTMLIFrameElement),i=i&&!("function"==typeof n&&!n.supportedForProcessing),e.frames.length){case 0:break;case 1:i=i&&!(n===e.frames[0]);break;default:for(var o=0,s=e.frames.length;i&&s>o;o++)i=i&&!(n===e.frames[o])}if(i)return n;throw new t.ErrorFromName("WinJS.Utilities.requireSupportedForProcessing",t.Resources._formatString(r.notSupportedForProcessing,n))},configurable:!1,writable:!1,enumerable:!0}}),t.Namespace.define("WinJS",{validation:!1,strictProcessing:{value:function(){},configurable:!1,writable:!1,enumerable:!1}})}(this,WinJS),function(){"use strict";function e(e,t,n){var r=e;return"function"==typeof r&&(r=r()),(n&&o.test(n)?"":n?n+": ":"")+(t?t.replace(i,":")+": ":"")+r}function t(e,t,n){var i=WinJS.Utilities.formatLog(e,t,n);console[n&&o.test(n)?n:"log"](i)}function n(e){return e.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&")}var i=/\s+/g,o=/^(error|warn|info|log)$/;WinJS.Namespace.define("WinJS.Utilities",{startLog:function(e){e=e||{},"string"==typeof e&&(e={tags:e});var o=e.type&&new RegExp("^("+n(e.type).replace(i," ").split(" ").join("|")+")$"),r=e.excludeTags&&new RegExp("(^|\\s)("+n(e.excludeTags).replace(i," ").split(" ").join("|")+")(\\s|$)","i"),s=e.tags&&new RegExp("(^|\\s)("+n(e.tags).replace(i," ").split(" ").join("|")+")(\\s|$)","i"),a=e.action||t;if(!(o||r||s||WinJS.log))return WinJS.log=a,void 0;var u=function(e,t,n){o&&!o.test(n)||r&&r.test(t)||s&&!s.test(t)||a(e,t,n),u.next&&u.next(e,t,n)};u.next=WinJS.log,WinJS.log=u},stopLog:function(){delete WinJS.log},formatLog:e})}(),function(e){"use strict";function t(e){var t="_on"+e+"state";return{get:function(){var e=this[t];return e&&e.userHandler},set:function(n){var i=this[t];n?(i||(i={wrapper:function(e){return i.userHandler(e)},userHandler:n},Object.defineProperty(this,t,{value:i,enumerable:!1,writable:!0,configurable:!0}),this.addEventListener(e,i.wrapper,!1)),i.userHandler=n):i&&(this.removeEventListener(e,i.wrapper,!1),this[t]=null)},enumerable:!0}}function n(){for(var e={},n=0,i=arguments.length;i>n;n++){var o=arguments[n];e["on"+o]=t(o)}return e}var i=e.Class.define(function(e,t,n){this.detail=t,this.target=n,this.timeStamp=Date.now(),this.type=e},{bubbles:{value:!1,writable:!1},cancelable:{value:!1,writable:!1},currentTarget:{get:function(){return this.target}},defaultPrevented:{get:function(){return this._preventDefaultCalled}},trusted:{value:!1,writable:!1},eventPhase:{value:0,writable:!1},target:null,timeStamp:null,type:null,preventDefault:function(){this._preventDefaultCalled=!0},stopImmediatePropagation:function(){this._stopImmediatePropagationCalled=!0},stopPropagation:function(){}},{supportedForProcessing:!1}),o={_listeners:null,addEventListener:function(e,t,n){n=n||!1,this._listeners=this._listeners||{};for(var i=this._listeners[e]=this._listeners[e]||[],o=0,r=i.length;r>o;o++){var s=i[o];if(s.useCapture===n&&s.listener===t)return}i.push({listener:t,useCapture:n})},dispatchEvent:function(e,t){var n=this._listeners&&this._listeners[e];if(n){var o=new i(e,t,this);n=n.slice(0,n.length);for(var r=0,s=n.length;s>r&&!o._stopImmediatePropagationCalled;r++)n[r].listener(o);return o.defaultPrevented||!1}return!1},removeEventListener:function(e,t,n){n=n||!1;var i=this._listeners&&this._listeners[e];if(i)for(var o=0,r=i.length;r>o;o++){var s=i[o];if(s.listener===t&&s.useCapture===n){i.splice(o,1),0===i.length&&delete this._listeners[e];break}}}};e.Namespace.define("WinJS.Utilities",{_createEventProperty:t,createEventProperties:n,eventMixin:o})}(WinJS),function(e,t,n){"use strict";var i,o=!1,r="contextchanged",s=t.Class.mix(t.Class.define(null,{},{supportedForProcessing:!1}),t.Utilities.eventMixin),a=new s,u={malformedFormatStringInput:"Malformed, did you mean to escape your '{0}'?"};t.Namespace.define("WinJS.Resources",{addEventListener:function(e,n,i){if(t.Utilities.hasWinRT&&!o&&e===r)try{Windows.ApplicationModel.Resources.Core.ResourceManager.current.defaultContext.qualifierValues.addEventListener("mapchanged",function(e){t.Resources.dispatchEvent(r,{qualifier:e.key,changed:e.target[e.key]})},!1),o=!0}catch(s){}a.addEventListener(e,n,i)},removeEventListener:a.removeEventListener.bind(a),dispatchEvent:a.dispatchEvent.bind(a),_formatString:function(e){var n=arguments;return n.length>1&&(e=e.replace(/({{)|(}})|{(\d+)}|({)|(})/g,function(e,i,o,r,s,a){if(s||a)throw t.Resources._formatString(u.malformedFormatStringInput,s||a);return i&&"{"||o&&"}"||n[(0|r)+1]})),e},_getStringWinRT:function(e){if(!i){var t=Windows.ApplicationModel.Resources.Core.ResourceManager.current.mainResourceMap;try{i=t.getSubtree("Resources")}catch(o){}i||(i=t)}var r,s,a;try{a=i.getValue(e),a&&(r=a.valueAsString,r===n&&(r=a.toString()))}catch(o){}if(!r)return{value:e,empty:!0};try{s=a.getQualifierValue("Language")}catch(o){return{value:r}}return{value:r,lang:s}},_getStringJS:function(t){var n=e.strings&&e.strings[t];return"string"==typeof n&&(n={value:n}),n||{value:t,empty:!0}}}),Object.defineProperties(t.Resources,t.Utilities.createEventProperties(r));var l;t.Resources.getString=function(e){return l=l||(t.Utilities.hasWinRT?t.Resources._getStringWinRT:t.Resources._getStringJS),l(e)}}(this,WinJS),function(e,t){"use strict";function n(){}function i(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?I:P,e._value=t,e._setState(n)}function o(e,t,n,i,o,r){return{exception:e,error:t,promise:n,handler:r,id:i,parent:o}}function r(e,t,n,i){var r=n._isException,s=n._errorId;return o(r?t:null,r?null:t,e,s,n,i)}function s(e,t,n){var i=n._isException,r=n._errorId;return m(e,r,i),o(i?t:null,i?null:t,e,r,n)}function a(e,t){var n=++W;return m(e,n),o(null,t,e,n)}function u(e,t){var n=++W;return m(e,n,!0),o(t,null,e,n)}function l(e,t,n,i){g(e,{c:t,e:n,p:i})}function d(e,t,n,i){e._value=t,p(e,t,n,i),e._setState(A)}function c(e,t){var n=e._value,i=e._listeners;if(i){e._listeners=null;var o,r;for(o=0,r=Array.isArray(i)?i.length:1;r>o;o++){var s=1===r?i:i[o],a=s.c,u=s.promise;if(u){try{u._setCompleteValue(a?a(n):n)}catch(l){u._setExceptionValue(l)}u._state!==I&&u._listeners&&t.push(u)}else q.prototype.done.call(e,a)}}}function h(e,t){var n=e._value,i=e._listeners;if(i){e._listeners=null;var o,s;for(o=0,s=Array.isArray(i)?i.length:1;s>o;o++){var a=1===s?i:i[o],u=a.e,l=a.promise;if(l){try{u?(u.handlesOnError||p(l,n,r,e,u),l._setCompleteValue(u(n))):l._setChainedErrorValue(n,e)}catch(d){l._setExceptionValue(d)}l._state!==I&&l._listeners&&t.push(l)}else B.prototype.done.call(e,null,u)}}}function p(e,t,n,i,o){if(w._listeners[S]){if(t instanceof Error&&t.message===L)return;w.dispatchEvent(S,n(e,t,i,o))}}function f(e,t){var n=e._listeners;if(n){var i,o;for(i=0,o=Array.isArray(n)?n.length:1;o>i;i++){var r=1===o?n:n[i],s=r.p;if(s)try{s(t)}catch(a){}r.c||r.e||!r.promise||r.promise._progress(t)}}}function g(e,t){var n=e._listeners;n?(n=Array.isArray(n)?n:[n],n.push(t)):n=t,e._listeners=n}function m(e,t,n){e._isException=n||!1,e._errorId=t}function v(e,t,n,i){e._value=t,p(e,t,n,i),e._setState(H)}function y(e,t){var n;n=t&&"object"==typeof t&&"function"==typeof t.then?I:O,e._value=t,e._setState(n)}function b(e,t,n,i){var o=new U(e);return g(e,{promise:o,c:t,e:n,p:i}),o}function C(e){var t;return new WinJS.Promise(function(n){e?t=setTimeout(n,e):setImmediate(n)},function(){t&&clearTimeout(t)})}function _(e,t){var n=function(){t.cancel()},i=function(){e.cancel()};return e.then(n),t.then(i,i),t}e.Debug&&(e.Debug.setNonUserCodeExceptions=!0);var E=WinJS.Class.mix(WinJS.Class.define(null,{},{supportedForProcessing:!1}),WinJS.Utilities.eventMixin),w=new E;w._listeners={};var S="error",L="Canceled",T=!1,N={promise:1,thenPromise:2,errorPromise:4,exceptionPromise:8,completePromise:16};N.all=N.promise|N.thenPromise|N.errorPromise|N.exceptionPromise|N.completePromise;var x,M,I,k,R,D,P,O,A,H,W=1;x={name:"created",enter:function(e){e._setState(M)},cancel:n,done:n,then:n,_completed:n,_error:n,_notify:n,_progress:n,_setCompleteValue:n,_setErrorValue:n},M={name:"working",enter:n,cancel:function(e){e._setState(R)},done:l,then:b,_completed:i,_error:d,_notify:n,_progress:f,_setCompleteValue:y,_setErrorValue:v},I={name:"waiting",enter:function(e){var t=e._value,n=function(i){t._errorId?e._chainedError(i,t):(p(e,i,r,t,n),e._error(i))};n.handlesOnError=!0,t.then(e._completed.bind(e),n,e._progress.bind(e))},cancel:function(e){e._setState(k)},done:l,then:b,_completed:i,_error:d,_notify:n,_progress:f,_setCompleteValue:y,_setErrorValue:v},k={name:"waiting_canceled",enter:function(e){e._setState(D);var t=e._value;t.cancel&&t.cancel()},cancel:n,done:l,then:b,_completed:i,_error:d,_notify:n,_progress:f,_setCompleteValue:y,_setErrorValue:v},R={name:"canceled",enter:function(e){e._setState(D),e._cancelAction()},cancel:n,done:l,then:b,_completed:i,_error:d,_notify:n,_progress:f,_setCompleteValue:y,_setErrorValue:v},D={name:"canceling",enter:function(e){var t=new Error(L);t.name=t.message,e._value=t,e._setState(A)},cancel:n,done:n,then:n,_completed:n,_error:n,_notify:n,_progress:n,_setCompleteValue:n,_setErrorValue:n},P={name:"complete_notify",enter:function(e){if(e.done=q.prototype.done,e.then=q.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.pop(),t._state._notify(t,n);e._setState(O)},cancel:n,done:null,then:null,_completed:n,_error:n,_notify:c,_progress:n,_setCompleteValue:n,_setErrorValue:n},O={name:"success",enter:function(e){e.done=q.prototype.done,e.then=q.prototype.then,e._cleanupAction()},cancel:n,done:null,then:null,_completed:n,_error:n,_notify:c,_progress:n,_setCompleteValue:n,_setErrorValue:n},A={name:"error_notify",enter:function(e){if(e.done=B.prototype.done,e.then=B.prototype.then,e._listeners)for(var t,n=[e];n.length;)t=n.pop(),t._state._notify(t,n);e._setState(H)},cancel:n,done:null,then:null,_completed:n,_error:n,_notify:h,_progress:n,_setCompleteValue:n,_setErrorValue:n},H={name:"error",enter:function(e){e.done=B.prototype.done,e.then=B.prototype.then,e._cleanupAction()},cancel:n,done:null,then:null,_completed:n,_error:n,_notify:h,_progress:n,_setCompleteValue:n,_setErrorValue:n};var V,F=WinJS.Class.define(null,{_listeners:null,_nextState:null,_state:null,_value:null,cancel:function(){this._state.cancel(this),this._run()},done:function(e,t,n){this._state.done(this,e,t,n)},then:function(e,t,n){return this._state.then(this,e,t,n)},_chainedError:function(e,t){var n=this._state._error(this,e,s,t);return this._run(),n},_completed:function(e){var t=this._state._completed(this,e);return this._run(),t},_error:function(e){var t=this._state._error(this,e,a);return this._run(),t},_progress:function(e){this._state._progress(this,e)},_setState:function(e){this._nextState=e},_setCompleteValue:function(e){this._state._setCompleteValue(this,e),this._run()},_setChainedErrorValue:function(e,t){var n=this._state._setErrorValue(this,e,s,t);return this._run(),n},_setExceptionValue:function(e){var t=this._state._setErrorValue(this,e,u);return this._run(),t},_run:function(){for(;this._nextState;)this._state=this._nextState,this._nextState=null,this._state.enter(this)}},{supportedForProcessing:!1}),U=WinJS.Class.derive(F,function(e){T&&(T===!0||T&N.thenPromise)&&(this._stack=WinJS.Promise._getStack()),this._creator=e,this._setState(x),this._run()},{_creator:null,_cancelAction:function(){this._creator&&this._creator.cancel()},_cleanupAction:function(){this._creator=null}},{supportedForProcessing:!1}),B=WinJS.Class.define(function(e){T&&(T===!0||T&N.errorPromise)&&(this._stack=WinJS.Promise._getStack()),this._value=e,p(this,e,a)},{cancel:function(){},done:function(e,t){var n=this._value;if(t)try{t.handlesOnError||p(null,n,r,this,t);var i=t(n);return i&&"object"==typeof i&&"function"==typeof i.done&&i.done(),void 0}catch(o){n=o}n instanceof Error&&n.message===L||setImmediate(function(){throw n})},then:function(e,t){if(!t)return this;var n,i=this._value;try{t.handlesOnError||p(null,i,r,this,t),n=new q(t(i))}catch(o){n=o===i?this:new z(o)}return n}},{supportedForProcessing:!1}),z=WinJS.Class.derive(B,function(e){T&&(T===!0||T&N.exceptionPromise)&&(this._stack=WinJS.Promise._getStack()),this._value=e,p(this,e,u)},{},{supportedForProcessing:!1}),q=WinJS.Class.define(function(e){if(T&&(T===!0||T&N.completePromise)&&(this._stack=WinJS.Promise._getStack()),e&&"object"==typeof e&&"function"==typeof e.then){var t=new U(null);return t._setCompleteValue(e),t}this._value=e},{cancel:function(){},done:function(e){if(e)try{var t=e(this._value);t&&"object"==typeof t&&"function"==typeof t.done&&t.done()}catch(n){setImmediate(function(){throw n})}},then:function(e){try{var t=e?e(this._value):this._value;return t===this._value?this:new q(t)}catch(n){return new z(n)}}},{supportedForProcessing:!1}),j=WinJS.Class.derive(F,function(e,t){T&&(T===!0||T&N.promise)&&(this._stack=WinJS.Promise._getStack()),this._oncancel=t,this._setState(x),this._run();try{var n=this._completed.bind(this),i=this._error.bind(this),o=this._progress.bind(this);e(n,i,o)}catch(r){this._setExceptionValue(r)}},{_oncancel:null,_cancelAction:function(){if(this._oncancel)try{this._oncancel()}catch(e){}},_cleanupAction:function(){this._oncancel=null}},{addEventListener:function(e,t,n){w.addEventListener(e,t,n)},any:function(e){return new j(function(t,n){var i=Object.keys(e);Array.isArray(e)?[]:{},0===i.length&&t();var o=0;i.forEach(function(r){j.as(e[r]).then(function(){t({key:r,value:e[r]})},function(s){return s instanceof Error&&s.name===L?(++o===i.length&&t(WinJS.Promise.cancel),void 0):(n({key:r,value:e[r]}),void 0)})})},function(){var t=Object.keys(e);t.forEach(function(t){var n=j.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},as:function(e){return e&&"object"==typeof e&&"function"==typeof e.then?e:new q(e)},cancel:{get:function(){return V=V||new B(new WinJS.ErrorFromName(L))}},dispatchEvent:function(e,t){return w.dispatchEvent(e,t)},is:function(e){return e&&"object"==typeof e&&"function"==typeof e.then},join:function(e){return new j(function(n,i,o){var r=Object.keys(e),s=Array.isArray(e)?[]:{},a=Array.isArray(e)?[]:{},u=0,l=r.length,d=function(e){if(0===--l){var t=Object.keys(s).length;if(0===t)n(a);else{var u=0;r.forEach(function(e){var t=s[e];t instanceof Error&&t.name===L&&u++}),u===t?n(WinJS.Promise.cancel):i(s)}}else o({Key:e,Done:!0})};return r.forEach(function(n){var i=e[n];i===t?u++:j.then(i,function(e){a[n]=e,d(n)},function(e){s[n]=e,d(n)})}),l-=u,0===l?(n(a),void 0):void 0},function(){Object.keys(e).forEach(function(t){var n=j.as(e[t]);"function"==typeof n.cancel&&n.cancel()})})},removeEventListener:function(e,t,n){w.removeEventListener(e,t,n)},supportedForProcessing:!1,then:function(e,t,n,i){return j.as(e).then(t,n,i)},thenEach:function(e,t,n,i){var o=Array.isArray(e)?[]:{};return Object.keys(e).forEach(function(r){o[r]=j.as(e[r]).then(t,n,i)}),j.join(o)},timeout:function(e,t){var n=C(e);return t?_(n,t):n},wrap:function(e){return new q(e)},wrapError:function(e){return new B(e)},_veryExpensiveTagWithStack:{get:function(){return T},set:function(e){T=e}},_veryExpensiveTagWithStack_tag:N,_getStack:function(){if(Debug.debuggerEnabled)try{throw new Error}catch(e){return e.stack}}});Object.defineProperties(j,WinJS.Utilities.createEventProperties(S));var G=WinJS.Class.derive(F,function(e){this._oncancel=e,this._setState(x),this._run()},{_cancelAction:function(){this._oncancel&&this._oncancel()},_cleanupAction:function(){this._oncancel=null}},{supportedForProcessing:!1}),K=WinJS.Class.define(function(e){this._promise=new G(e)},{promise:{get:function(){return this._promise}},cancel:function(){this._promise.cancel()},complete:function(e){this._promise._completed(e)},error:function(e){this._promise._error(e)},progress:function(e){this._promise._progress(e)}},{supportedForProcessing:!1});WinJS.Namespace.define("WinJS",{Promise:j,_Signal:K})}(this),function(e,t){"use strict";t.Namespace.define("WinJS",{ErrorFromName:t.Class.derive(Error,function(e,t){this.name=e,this.message=t||e},{},{supportedForProcessing:!1})})}(this,WinJS),function(){"use strict";WinJS.Namespace.define("WinJS",{xhr:function(e){var t;return new WinJS.Promise(function(n,i,o){t=new XMLHttpRequest,t.onreadystatechange=function(){t._canceled||(4===t.readyState?(t.status>=200&&t.status<300||1223===t.status?n(t):i(t),t.onreadystatechange=function(){}):o(t))},t.open(e.type||"GET",e.url,!0,e.user,e.password),t.responseType=e.responseType||"",Object.keys(e.headers||{}).forEach(function(n){t.setRequestHeader(n,e.headers[n])}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.customRequestInitializer&&e.customRequestInitializer(t),t.send(e.data)},function(){t._canceled=!0,t.abort()})}})}(),function(e){"use strict";var t,n,i,o,r,s,a={nonStaticHTML:"Unable to add dynamic content. A script attempted to inject dynamic content, or elements previously modified dynamically, that might be unsafe. For example, using the innerHTML property or the document.write method to add a script element will generate this exception. If the content is safe and from a trusted source, use a method to explicitly manipulate elements and attributes, such as createElement, or use setInnerHTMLUnsafe (or other unsafe method)."};t=n=function(e,t){e.innerHTML=t},i=o=function(e,t){e.outerHTML=t},r=s=function(e,t,n){e.insertAdjacentHTML(t,n)};var u=e.MSApp;if(u)n=function(e,t){u.execUnsafeLocalFunction(function(){e.innerHTML=t})},o=function(e,t){u.execUnsafeLocalFunction(function(){e.outerHTML=t})},s=function(e,t,n){u.execUnsafeLocalFunction(function(){e.insertAdjacentHTML(t,n)})};else if(e.msIsStaticHTML){var l=function(t){if(!e.msIsStaticHTML(t))throw new WinJS.ErrorFromName("WinJS.Utitilies.NonStaticHTML",a.nonStaticHTML)};t=function(e,t){l(t),e.innerHTML=t},i=function(e,t){l(t),e.outerHTML=t},r=function(e,t,n){l(n),e.insertAdjacentHTML(t,n)}}WinJS.Namespace.define("WinJS.Utilities",{setInnerHTML:t,setInnerHTMLUnsafe:n,setOuterHTML:i,setOuterHTMLUnsafe:o,insertAdjacentHTML:r,insertAdjacentHTMLUnsafe:s})}(this)),define("vs/base/lib/raw.winjs.base",[],{}),define("vs/base/types",["require","exports"],function(e,t){"use strict";function n(e){return Array.isArray?Array.isArray(e):e&&"number"==typeof e.length&&e.constructor===Array?!0:!1}function i(e){return"string"==typeof e||e instanceof String?!0:!1}function o(e){return"undefined"==typeof e||null===e?!1:"[object Object]"===Object.prototype.toString.call(e)}function r(e){return("number"==typeof e||e instanceof Number)&&!isNaN(e)?!0:!1}function s(e){return"undefined"==typeof e}function a(e){return t.isUndefined(e)||null===e}function u(e){if(!t.isObject(e))return!1;for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}function l(e){return"[object Function]"===Object.prototype.toString.call(e)}function d(e){for(var t=[],n=0;n<arguments.length-1;n++)t[n]=arguments[n+1];var i=Object.create(e.prototype);return e.apply(i,t),i}function c(e,n,i){"undefined"==typeof i&&(i=!0);var o,r={};for(o in e)(i||e.hasOwnProperty(o))&&t.isFunction(e[o])&&(r[o]=function(t){return function(){return n(e,t,arguments)}}(o));return r}t.isArray=n,t.isString=i,t.isObject=o,t.isNumber=r,t.isUndefined=s,t.isUndefinedOrNull=a,t.isEmptyObject=u,t.isFunction=l,t.create=d,t.proxy=c}),define("vs/base/objects",["require","exports","./types"],function(e,t,n){"use strict";function i(e){if(!e||"object"!=typeof e)return e;var n=e instanceof Array?[]:{};for(var i in e)n[i]=e[i]&&"object"==typeof e[i]?t.clone(e[i]):e[i];return n}function o(e,n,i){return"undefined"==typeof i&&(i=!0),l.isObject(e)?(l.isObject(n)&&Object.keys(n).forEach(function(o){o in e?i&&(l.isObject(e[o])&&l.isObject(n[o])?t.mixin(e[o],n[o],i):e[o]=n[o]):e[o]=n[o]}),e):n}function r(e,n){if(e===n)return!0;if(null===e||void 0===e||null===n||void 0===n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;if(e instanceof Array!=n instanceof Array)return!1;var i,o;if(e instanceof Array){if(e.length!==n.length)return!1;for(i=0;i<e.length;i++)if(!t.equals(e[i],n[i]))return!1}else{var r=[];for(o in e)r.push(o);r.sort();var s=[];for(o in n)s.push(o);if(s.sort(),!t.equals(r,s))return!1;for(i=0;i<r.length;i++)if(!t.equals(e[r[i]],n[r[i]]))return!1}return!0}function s(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function a(e,n){"undefined"==typeof n&&(n=!1),n&&(e=e.map(function(e){return e.toLowerCase()}));var i=t.arrayToHash(e);return n?function(e){return void 0!==i[e.toLowerCase()]}:function(e){return void 0!==i[e]}}function u(e,t){t=t||function(){};var n=e.prototype;return t.prototype=Object.create(n),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,configurable:!0,enumerable:!0}),t}var l=n;t.clone=i,t.mixin=o,t.equals=r,t.arrayToHash=s,t.createKeywordMatcher=a,t.derive=u}),define("vs/base/errors",["require","exports","vs/nls!vs/editor/worker/editorWorkerServer","./objects","./types"],function(e,t,n,i,o){"use strict";function r(e){t.errorHandler.setUnexpectedErrorHandler(e)}function s(e,n){"undefined"==typeof n&&(n=null),t.errorHandler.onUnexpectedError(e,n)}function a(e,t){var n=e.errorCode,i=e.errorMessage;return null!==n&&null!==i?m.localize("vs_base_errors",0,n,i):null!==i?i:t&&null!==e.responseText?e.responseText:null}function u(e,t){var n=a(e,t);return 401===e.status?null!==n?m.localize("vs_base_errors",1,n):m.localize("vs_base_errors",2):n?n:e.status>0&&null!==e.statusText?t&&null!==e.responseText&&e.responseText.length>0?m.localize("vs_base_errors",3,e.statusText,e.status,e.responseText):m.localize("vs_base_errors",4,e.statusText,e.status):t&&null!==e.responseText&&e.responseText.length>0?m.localize("vs_base_errors",5,e.responseText):m.localize("vs_base_errors",6)}function l(e,t){return u(new C(e),t)}function d(e,t){return t&&e.message&&(e.stack||e.stacktrace)?m.localize("vs_base_errors",7,e.message,e.stack||e.stacktrace):e.message?e.message:m.localize("vs_base_errors",8)}function c(e,t){if("undefined"==typeof t&&(t=!1),!e)return m.localize("vs_base_errors",9);if(y.isString(e))return e;if(e instanceof C)return u(e,t);if(!y.isUndefinedOrNull(e.status))return l(e,t);if(e.detail){var n=e.detail;if(n.error){if(n.error&&!y.isUndefinedOrNull(n.error.status))return l(n.error,t);if(!y.isArray(n.error))return d(n.error,t);for(var i=0;i<n.error.length;i++)if(n.error[i]&&!y.isUndefinedOrNull(n.error[i].status))return l(n.error[i],t)}if(n.exception)return y.isUndefinedOrNull(n.exception.status)?d(n.exception,t):l(n.exception,t)}return e.stack?d(e,t):e.message?e.message:m.localize("vs_base_errors",10)}function h(e){if(e)if(y.isArray(e)){for(var t=0;t<e.length;t++)if(e[t]&&e[t].status)return e[t].status}else if(e.status)return e.status;return-1}function p(e){return e instanceof Error&&"Canceled"===e.name&&"Canceled"===e.message}function f(){return new Error("not implemented")}function g(){return new Error("illegeal argument: ")}var m=n,v=i,y=o,b=function(){function e(){this.listeners=[],this.unexpectedErrorHandler=function(e){setTimeout(function(){throw e},0)}}return e.prototype.addListener=function(e){var t=this;return this.listeners.push(e),function(){t._removeListener(e)}},e.prototype.emit=function(e,t,n){"undefined"==typeof t&&(t=null),"undefined"==typeof n&&(n=null),this.listeners.forEach(function(i){i(e,t,n)})},e.prototype._removeListener=function(e){this.listeners.splice(this.listeners.indexOf(e),1)},e.prototype.setUnexpectedErrorHandler=function(e){this.unexpectedErrorHandler=e},e.prototype.getUnexpectedErrorHandler=function(){return this.unexpectedErrorHandler},e.prototype.onUnexpectedError=function(e,n){"undefined"==typeof n&&(n=null),this.unexpectedErrorHandler(e,n),this.emit(e,n,t.toErrorMessage(e,!0))},e}();t.ErrorHandler=b,t.errorHandler=new b,t.setUnexpectedErrorHandler=r,t.onUnexpectedError=s;var C=function(){function e(e){if(this.status=e.status,this.statusText=e.statusText,this.responseText=e.responseText,this.errorMessage=null,this.errorCode=null,this.errorObject=null,this.responseText)try{var n=JSON.parse(this.responseText);this.errorMessage=n.message,this.errorCode=n.code,this.errorObject=n}catch(i){}this.message=t.toErrorMessage(this,!1)}return e}();t.ConnectionError=C,v.derive(Error,C),t.toErrorMessage=c,t.getHttpStatus=h,t.isPromiseCanceledError=p,t.notImplemented=f,t.illegalArgument=g}),require.config({shim:{"vs/base/lib/raw.winjs.base":{}}}),define("vs/base/lib/winjs.base",["./raw.winjs.base","vs/base/errors"],function(e,t){"use strict";function n(e){var n=e.detail,i=n.id;return n.parent?(n.handler&&o&&delete o[i],void 0):(o[i]=n,1===Object.keys(o).length&&setTimeout(function(){var e=o;o={},Object.keys(e).forEach(function(n){var i=e[n];i.exception?t.onUnexpectedError(i.exception):i.error&&t.onUnexpectedError(i.error),console.log("WARNING: Promise with no error callback:"+i.id),console.log(i),i.exception&&console.log(i.exception.stack)})},0),void 0)}function i(e,t,n){var i,o,r,s=new WinJS.Promise(function(e,t,n){i=e,o=t,r=n},function(){e.cancel()});return e.then(function(e){t&&t(e),i(e)},function(e){n&&n(e),o(e)},r),s}var o={};return WinJS.Promise.addEventListener("error",n),{decoratePromise:i,Class:WinJS.Class,xhr:WinJS.xhr,Promise:WinJS.Promise,TPromise:WinJS.Promise,Utilities:WinJS.Utilities}});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/async",["require","exports","vs/base/errors","vs/base/lib/winjs.base"],function(e,t,n,i){"use strict";function o(e,t){return new s.Promise(function(n,i,o){e.done(function(e){try{t(e)}catch(i){r.onUnexpectedError(i)}n(e)},function(e){try{t(e)}catch(n){r.onUnexpectedError(n)}n(e)},function(e){o(e)})})}var r=n,s=i,a=function(){function e(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}return e.prototype.queue=function(e){var t=this;if(this.activePromise){if(this.queuedPromiseFactory=e,!this.queuedPromise){var n=function(){t.queuedPromise=null;var e=t.queue(t.queuedPromiseFactory);return t.queuedPromiseFactory=null,e};this.queuedPromise=this.activePromise.then(n,n)}return new s.Promise(function(e,n){t.queuedPromise.then(e,n)})}return this.activePromise=e(),this.activePromise.then(function(e){return t.activePromise=null,e},function(e){return t.activePromise=null,s.Promise.wrapError(e)})},e}();t.Throttler=a;var u=function(){function e(e){this.defaultDelay=e,this.timeoutPromise=null,this.completionPromise=null,this.onSuccess=null,this.task=null}return e.prototype.trigger=function(e,t){"undefined"==typeof t&&(t=this.defaultDelay);var n=this;return this.task=e,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new s.Promise(function(e){n.onSuccess=e}).then(function(){n.completionPromise=null,n.onSuccess=null;var e=n.task();return n.task=null,e})),this.timeoutPromise=s.Promise.timeout(t),this.timeoutPromise.then(function(){n.timeoutPromise=null,n.onSuccess(null)}),this.completionPromise},e.prototype.isTriggered=function(){return!!this.timeoutPromise},e.prototype.cancel=function(){this.cancelTimeout(),this.completionPromise&&(this.completionPromise.cancel(),this.completionPromise=null)},e.prototype.cancelTimeout=function(){this.timeoutPromise&&(this.timeoutPromise.cancel(),this.timeoutPromise=null)},e}();t.Delayer=u;var l=function(e){function t(t){e.call(this,t),this.throttler=new a}return __extends(t,e),t.prototype.trigger=function(t,n){var i=this;return e.prototype.trigger.call(this,function(){return i.throttler.queue(t)},n)},t}(u);t.ThrottledDelayer=l,t.always=o}),define("vs/base/strings",["require","exports","vs/nls!vs/editor/worker/editorWorkerServer","vs/base/types"],function(e,t,n,i){"use strict";function o(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n}function r(e){for(var t=[],n=0;n<arguments.length-1;n++)t[n]=arguments[n+1];if(0===t.length)return e;for(var i=e,o=t.length,r=0;o>r;r++)i=i.replace(new RegExp("\\{"+r+"\\}","g"),t[r]);return i}function s(e){return e||(e=new Date),A.localize("vs_base_strings",0,t.pad(e.getMonth()+1,2),t.pad(e.getDate(),2),t.pad(e.getFullYear(),4),t.pad(e.getHours(),2),t.pad(e.getMinutes(),2),t.pad(e.getSeconds(),2))}function a(e){return e||(e=new Date),A.localize("vs_base_strings",1,t.pad(e.getHours(),2),t.pad(e.getMinutes(),2),t.pad(e.getSeconds(),2))}function u(e){return e.replace(/[<|>|&]/g,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return e}})}function l(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||t.innerText||""}function d(e,n){"undefined"==typeof n&&(n=" ");var i=t.ltrim(e,n);return t.rtrim(i,n)}function c(e,t){var n=t.length;if(0===n||0===e.length)return e;for(var i=0,o=-1;(o=e.indexOf(t,i))===i;)i+=n;return e.substring(i)}function h(e,t){var n=t.length,i=e.length;if(0===n||0===i)return e;for(var o=i,r=-1;;){if(r=e.lastIndexOf(t,o-1),-1===r||r+n!==o)break;if(0===r)return"";o=r}return e.substring(0,o)}function p(e){return e.replace(/(^\s+|\s+$)/g,"")}function f(e){return e.replace(/\s+/g," ")}function g(e){var t=(new Date).getTime(),n=(t-e)/1e3;if(60>n)return A.localize("vs_base_strings",2,Math.floor(n));var i=n/60;if(60>i)return A.localize("vs_base_strings",3,Math.floor(i));var o=i/60;if(24>o)return A.localize("vs_base_strings",4,Math.floor(o));var r=o/24;return A.localize("vs_base_strings",5,Math.floor(r))
}function m(e){return e.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function v(e,t){for(var n=0,i=t.length;i>n;n++)if(e.charCodeAt(n)!==t.charCodeAt(n))return!1;return!0}function y(e,t){if(t.length>e.length)return!1;for(var n=0,i=e.length-t.length;n<t.length;n++,i++)if(e.charCodeAt(i)!==t.charCodeAt(n))return!1;return!0}function b(e,t,n,i){return"undefined"==typeof i&&(i=""),e.substring(0,t)+i+e.substring(t+n)}function C(e,t,n,i){if(""===e)throw new Error("Cannot create regex from empty string");t||(e=e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")),i&&(e="\\b"+e+"\\b");var o="g";return n||(o+="i"),new RegExp(e,o)}function _(e){var t=e.exec("");return t&&0===e.lastIndex}function E(e,t){if(!e)return e;if(t){for(var n=e.split("/"),i=0,o=n.length;o>i;i++)n[i]=encodeURIComponent(n[i]);return n.join("/")}return encodeURIComponent(e)}function w(e){return/^\w[\w.]*$/.test(e)}function S(e){return e.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}function L(e,t,n){return t&&(e="^"+e),n&&(e+="$"),e}function T(e,n){if(t.regExpLeadsToEndlessLoop(new RegExp(e,n)))throw new Error("Regular expression /"+e+"/g results in infinitive matches")}function N(e){return e?(0===e.indexOf("/")&&(e=e.substring(1)),t.encodeURIPart(e,!0)):""}function x(e){return"undefined"==typeof e&&(e=8),M(e)}function M(e){for(var t="",n=0;e>n;n++)t+=W[Math.floor(Math.random()*V)];return t}function I(e,t){return"["+e+"m"+t+"[0m"}function k(e){for(var t=0,n=e.length;n>t;t++)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return t;return-1}function R(e){for(var t=0,n=e.length;n>t;t++)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return e.substring(0,t);return e}function D(e){for(var t=e.length-1;t>=0;t--)if(" "!==e.charAt(t)&&"	"!==e.charAt(t))return t;return-1}function P(e,t){if(!U&&(U=!0,window.Intl&&H.isFunction(window.Intl.Collator))){var n=new window.Intl.Collator;H.isFunction(n.compare)&&(F=n.compare)}return F?F.call(this,e,t):e.localeCompare(t)}function O(e,t,n){"undefined"==typeof n&&(n=4);var i=Math.abs(e.length-t.length);if(i>n)return 0;var o,r,s=[],a=[];for(o=0;o<t.length+1;++o)a.push(0);for(o=0;o<e.length+1;++o)s.push(a);for(o=1;o<e.length+1;++o)for(r=1;r<t.length+1;++r)s[o][r]=e[o-1]===t[r-1]?s[o-1][r-1]+1:Math.max(s[o-1][r],s[o][r-1]);return s[e.length][t.length]-Math.sqrt(i)}var A=n,H=i;t.pad=o,t.format=r,t.formatDate=s,t.formatTime=a,t.escape=u,t.stripHtml=l,t.trim=d,t.ltrim=c,t.rtrim=h,t.trimWhitespace=p,t.normalize=f,t.conciseformatDiff=g,t.convertSimple2RegExpPattern=m,t.startsWith=v,t.endsWith=y,t.splice=b,t.createRegExp=C,t.regExpLeadsToEndlessLoop=_,t.encodeURIPart=E,t.isCamelCasePattern=w,t.toRegExpPattern=S,t.anchorPattern=L,t.assertRegExp=T,t.normalizePath=N,t.generateUuid=x;var W="0123456789abcdefghiklmnopkqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",V=W.length;t.colorize=I,t.firstNonWhitespaceIndex=k,t.getLeadingWhitespace=R,t.lastNonWhitespaceIndex=D;var F,U=!1;t.localeCompare=P,t.difference=O}),define("vs/base/assert",["require","exports","vs/base/strings"],function(e,t,n){"use strict";function i(e,t){if(!e||null===e)throw new Error(t?r.format("Assertion failed ({0})",t):"Assertion Failed")}function o(e,t,n){if(e!==t||!e||!t)throw new Error(n?r.format("Assertion failed ({0})",n):"Assertion Failed")}var r=n;t.ok=i,t.equals=o}),define("vs/base/hash",["require","exports"],function(e,t){"use strict";function n(e){for(var t=1540483477,n=24,i=0,o=e.length,r=o,s=0^r,a=i;r>=2;){var u=e.charCodeAt(a),l=e.charCodeAt(a+1),d=u|l<<16;d*=t,d^=d>>n,d*=t,s*=t,s^=d,a+=2,r-=2}return 1===r&&(s^=e.charCodeAt(a),s*=t),s^=s>>13,s*=t,s^=s>>15}function i(e,t){return 2147483647&(t<<5)+t+e}t.computeMurmur2StringHashCode=n,t.combine=i}),define("vs/base/network",["require","exports","./assert","./hash"],function(e,t,n,i){"use strict";function o(e){var t=window.location.search;if(t){t=t.substring(1);for(var n=t.split("&"),i=0;i<n.length;i++){var o=n[i];if(o.indexOf("=")>=0){var r=o.split("=");if(decodeURIComponent(r[0])===e&&r.length>1)return decodeURIComponent(r[1])}else if(decodeURIComponent(o)===e)return"true"}}return null}var r=n,s=i,a=function(){function e(e){r.ok(!!e,"spec must not be null"),this.spec=e}return e.prototype.equals=function(t){return t instanceof e&&t.spec===this.spec},e.prototype.hashCode=function(){return s.computeMurmur2StringHashCode(this.spec)},e.prototype.toJSON=function(){return{$url:this.spec}},e.prototype.toExternal=function(){return this.spec},e.prototype.toString=function(){return this.spec},e.prototype.getScheme=function(){return"undefined"==typeof this.scheme&&(this.scheme=this.doGetScheme()),this.scheme},e.prototype.doGetScheme=function(){var e=this.spec.indexOf(":");return-1===e?null:this.spec.substring(0,e)},e.prototype.getPath=function(){for(var e=0,t=-1,n=0,i=this.spec.length;i>n;n++){var o=this.spec.charAt(n);switch(o){case"/":3===++e&&(t=n);break;case"?":case"#":return-1===t?null:this.spec.substring(t,n)}}return-1===t?null:t===this.spec.length-1?"":this.spec.substring(t)},e}();t.URL=a,t.getQueryValue=o,function(e){e.inMemory="inMemory"}(t.schemas||(t.schemas={})),t.schemas}),define("vs/base/env",["require","exports","vs/base/types"],function(e,t,n){"use strict";function i(){return d}function o(){return self.parent!==self}function r(){return l}function s(e){l=e}var a=n,u=navigator.userAgent,l=self.isTest||!1,d=self.document&&self.document.URL.match(/[^\?]*\?[^\#]*pseudo=true/),c=!1;c=self.window?!!self.window.Worker:!0;var h=u.indexOf("Trident")>=0&&u.indexOf("IE")<0,p=u.indexOf("IE")>=0,f=u.indexOf("MSIE 9")>=0;t.browser={isWindows:u.indexOf("Windows")>=0,isMacintosh:u.indexOf("Macintosh")>=0,isOpera:u.indexOf("Opera")>=0,isIE11:h,isIE10:p,isIE9:f,isIE:f||p||h,isFirefox:u.indexOf("Firefox")>=0,isWebKit:u.indexOf("AppleWebKit")>=0,isChrome:u.indexOf("Chrome")>=0,isSafari:-1===u.indexOf("Chrome")&&u.indexOf("Safari")>=0,canPushState:function(){return self&&self.history&&self.history.pushState},hasWorkers:c,hasCSSAnimationSupport:function(){if(this._hasCSSAnimationSupport===!0||this._hasCSSAnimationSupport===!1)return this._hasCSSAnimationSupport;for(var e=!1,t=document.createElement("div"),n=["animationName","webkitAnimationName","msAnimationName","MozAnimationName","OAnimationName"],i=0;i<n.length;i++){var o=n[i];if(!a.isUndefinedOrNull(t.style[o])||t.style.hasOwnProperty(o)){e=!0;break}}return this._hasCSSAnimationSupport=e?!0:!1,this._hasCSSAnimationSupport},canPlayVideo:function(e){var t=document.createElement("video");if(t.canPlayType){var n=t.canPlayType(e);return"maybe"===n||"probably"===n}return!1},canPlayAudio:function(e){var t=document.createElement("audio");if(t.canPlayType){var n=t.canPlayType(e);return"maybe"===n||"probably"===n}return!1},getInternetExplorerVersion:function(){var e=-1;if("Microsoft Internet Explorer"===navigator.appName){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}return e}},t.enableWI=self.MonacoEnvironment?self.MonacoEnvironment.enableWI:!0,t.enableTEST=self.MonacoEnvironment?self.MonacoEnvironment.enableTEST:!0,t.enableTestCoverage=self.MonacoEnvironment?self.MonacoEnvironment.enableTestCoverage:!1,t.enableOps=self.MonacoEnvironment?self.MonacoEnvironment.enableOps:!1,t.enableDebug=self.MonacoEnvironment?self.MonacoEnvironment.enableDebug:!1,t.enablePerformanceEvents=self.MonacoEnvironment?self.MonacoEnvironment.enablePerformanceEvents:!1,t.enableTelemetry=self.MonacoEnvironment?self.MonacoEnvironment.enableTelemetry:!1,t.showPerformanceBox=self.MonacoEnvironment?self.MonacoEnvironment.showPerformanceBox:!1,t.enableGlobalCSSRuleChecker=self.MonacoEnvironment?self.MonacoEnvironment.enableGlobalCSSRuleChecker:!1,t.enableNLSWarnings=self.MonacoEnvironment?self.MonacoEnvironment.enableNLSWarnings:!1,t.enableEditorLanguageServiceIndicator=self.MonacoEnvironment?self.MonacoEnvironment.enableEditorLanguageServiceIndicator:!1,t.isPseudoLanguage=i,t.isInIframe=o,t.isTesting=r,t.setTesting=s}),define("vs/base/eventEmitter",["require","exports","vs/base/errors"],function(e,t,n){"use strict";var i=n,o=function(){function e(e,t,n){"undefined"==typeof n&&(n=null),this._type=e,this._data=t,this._emitterType=n}return e.prototype.getType=function(){return this._type},e.prototype.getData=function(){return this._data},e.prototype.getEmitterType=function(){return this._emitterType},e}();t.EmitterEvent=o;var r=function(){function e(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0}return e.prototype.addListener=function(e,t){if("*"===e)throw new Error("Use addBulkListener(listener) to register your listener!");this._listeners.hasOwnProperty(e)?this._listeners[e].push(t):this._listeners[e]=[t];var n=this;return function(){n&&(n._removeListener(e,t),n=null,t=null)}},e.prototype.addListener2=function(e,t){var n=this.addListener(e,t);return{dispose:n}},e.prototype.on=function(e,t){return this.addListener(e,t)},e.prototype.addOneTimeListener=function(e,t){var n=this.addListener(e,function(e){n(),t(e)});return n},e.prototype.addOneTimeDisposableListener=function(e,t){var n=this.addOneTimeListener(e,t);return{dispose:n}},e.prototype.addBulkListener=function(e){var t=this;return this._bulkListeners.push(e),function(){t._removeBulkListener(e)}},e.prototype.addEmitter=function(e,t){"undefined"==typeof t&&(t=null);var n=this;return e.addBulkListener(function(e){var i=e;if(t){i=[];for(var r=0,s=e.length;s>r;r++)i.push(new o(e[r].getType(),e[r].getData(),t))}0===n._deferredCnt?n._emitEvents(i):n._collectedEvents.push.apply(n._collectedEvents,i)})},e.prototype.addEmitterTypeListener=function(e,t,n){if(t){if("*"===e)throw new Error("Bulk listeners cannot specify an emitter type");return this.addListener(e+"/"+t,n)}return this.addListener(e,n)},e.prototype._removeListener=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e],i=0,o=n.length;o>i;i++)if(n[i]===t){n.splice(i,1);break}},e.prototype._removeBulkListener=function(e){for(var t=0,n=this._bulkListeners.length;n>t;t++)if(this._bulkListeners[t]===e){this._bulkListeners.splice(t,1);break}},e.prototype._emitToSpecificTypeListeners=function(e,t){if(this._listeners.hasOwnProperty(e))for(var n=this._listeners[e].slice(0),o=0,r=n.length;r>o;o++)try{n[o](t)}catch(s){i.onUnexpectedError(s)}},e.prototype._emitToBulkListeners=function(e){for(var t=this._bulkListeners.slice(0),n=0,o=t.length;o>n;n++)try{t[n](e)}catch(r){i.onUnexpectedError(r)}},e.prototype._emitEvents=function(e){this._bulkListeners.length>0&&this._emitToBulkListeners(e);for(var t=0,n=e.length;n>t;t++){var i=e[t];this._emitToSpecificTypeListeners(i.getType(),i.getData()),i.getEmitterType()&&this._emitToSpecificTypeListeners(i.getType()+"/"+i.getEmitterType(),i.getData())}},e.prototype.emit=function(e,t){if("undefined"==typeof t&&(t={}),this._listeners.hasOwnProperty(e)||0!==this._bulkListeners.length){var n=new o(e,t);0===this._deferredCnt?this._emitEvents([n]):this._collectedEvents.push(n)}},e.prototype.deferredEmit=function(e){this._deferredCnt=this._deferredCnt+1;var t=e();return this._deferredCnt=this._deferredCnt-1,0===this._deferredCnt&&this._emitCollected(),t},e.prototype._emitCollected=function(){var e=this._collectedEvents;this._collectedEvents=[],e.length>0&&this._emitEvents(e)},e.prototype.dispose=function(){this._listeners={},this._bulkListeners=[],this._collectedEvents=[],this._deferredCnt=0},e}();t.EventEmitter=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/base/performance/timer",["require","exports","vs/base/env","vs/base/eventEmitter","vs/nls!vs/editor/worker/editorWorkerServer"],function(e,t,n,i,o){"use strict";function r(e,t){return g.start(e,t)}function s(){return g}var a=n,u=i,l=o,d=!!self.msWriteProfilerMark;!function(e){e[e.EDITOR=0]="EDITOR",e[e.LANGUAGES=1]="LANGUAGES",e[e.WORKER=2]="WORKER",e[e.WORKBENCH=3]="WORKBENCH"}(t.Topic||(t.Topic={}));var c=t.Topic,h=function(){function e(){}return e.prototype.start=function(){return this},e.prototype.stop=function(){},e.prototype.timeTaken=function(){return-1},e}();t.NullTimerEvent=h;var p=function(){function e(e,t,n,i){if(this.timeKeeper=e,this.name=t,this.topic=n,this.stopTime=null,i)return this.startTime=i,void 0;if(this.startTime=(new Date).getTime(),d){var o=["Monaco",this.topic,this.name,"start"];self.msWriteProfilerMark(o.join("|"))}}return e.prototype.start=function(e){if(this.stopTime)throw new Error(l.localize("vs_base_performance_timer",0));return this.timeKeeper.start(this.topic,this.name+"."+e)},e.prototype.stop=function(e){if(null===this.stopTime){if(e)return this.stopTime=e,void 0;if(this.stopTime=(new Date).getTime(),this.timeKeeper.emit("eventStop",this),d){var t=["Monaco",this.topic,this.name,"stop"];self.msWriteProfilerMark(t.join("|"))}}},e.prototype.timeTaken=function(){return this.stopTime?this.stopTime-this.startTime:-1},e}();t.TimerEvent=p;var f=function(e){function n(){e.call(this),this.timeoutId=null,this.collectedEvents=[],this.eventCacheLimit=1e3,this.maxTimerLength=6e4,this.cleanupInterval=12e4}return __extends(n,e),n.prototype.enabled=function(){return a.enablePerformanceEvents},n.prototype.start=function(e,n){if(this.enabled()===!1)return t.nullEvent;e===c.EDITOR?e="Editor":e===c.LANGUAGES?e="Languages":e===c.WORKER?e="Worker":e===c.WORKBENCH&&(e="Workbench");var i=new p(this,n,e);return this.addEvent(i),this.cleanupTimers(),i},n.prototype.addEvent=function(e){e.id=n.EVENT_ID,n.EVENT_ID++,this.collectedEvents.push(e),this.emit("eventStart",e),this.collectedEvents.length>this.eventCacheLimit&&this.collectedEvents.shift()},n.prototype.cleanupTimers=function(){var e=this;null===this.timeoutId&&(this.timeoutId=setTimeout(function(){var t=Date.now();e.collectedEvents.forEach(function(n){!n.stopTime&&t-n.startTime>=e.maxTimerLength&&n.stop()})},this.cleanupInterval))},n.prototype.dispose=function(){clearTimeout(this.timeoutId),e.prototype.dispose.call(this)},n.prototype.getCollectedEvents=function(){return this.collectedEvents.slice(0)},n.prototype.clearCollectedEvents=function(){this.collectedEvents=[]},n.prototype.setInitialCollectedEvents=function(e,t){var i=this;this.enabled()!==!1&&(t&&(n.PARSE_TIME=t),e.forEach(function(e){var t=new p(i,e.name,e.topic,e.startTime);t.stop(e.stopTime),i.addEvent(t)}))},n.EVENT_ID=1,n.PARSE_TIME=(new Date).getTime(),n}(u.EventEmitter);t.TimeKeeper=f;var g=new f;t.nullEvent=new h,t.start=r,t.getTimeKeeper=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/services",["require","exports","vs/base/lib/winjs.base","vs/base/async","vs/base/strings","vs/base/network","vs/base/performance/timer","vs/base/objects"],function(e,t,n,i,o,r,s,a){"use strict";var u=n,l=i,d=o,c=r,h=s,p=a,f=function(){function e(e,t,n){"undefined"==typeof n&&(n={}),this.workspace=e,this.configuration=t,this.options=n}return e.prototype.getWorkspace=function(){return this.workspace},e.prototype.getConfiguration=function(){return this.configuration},e.prototype.getOptions=function(){return this.options},e}();t.BaseContextService=f;var g=function(){function e(){}return e.prototype.injectTelemetryService=function(e){this.telemetryService=e},e.prototype.injectContextService=function(e){if(!this.contextService)if(this.contextService=e,this.contextService.getConfiguration()){this.origin=this.contextService.getConfiguration().paths.PUBLIC_WORKSPACE_URL;var t=new c.URL(this.origin).getPath();t&&t.length>0&&(this.origin=this.origin.substring(0,this.origin.length-t.length+1)),d.endsWith(this.origin,"/")||(this.origin+="/")}else this.origin="/"},e.prototype.getRequestUrl=function(e,t,n){var i=this.contextService.getWorkspace();if(i[e]){var o=i[e]+d.normalizePath(t);return n?this.origin+d.ltrim(o,"/"):o}return null},e.prototype.getPath=function(e,t){var n=this.getRequestUrl(e,"/",!0);if(!n)return null;var i=t.toExternal().indexOf(n);return 0===i?t.toExternal().substr(n.length-1):null},e.prototype.getAdditionalHeaders=function(){return this.contextService.getConfiguration().additionalHeaders||{}},e.prototype.establishPrivateChannel=function(){return u.Promise.wrapError("Not Implemented")},e.prototype.makeRequest=function(e){var t=h.nullEvent;return e.headers=p.mixin(e.headers,this.getAdditionalHeaders()),this.telemetryService&&(t=this.telemetryService.start("WorkbenchXHR",{url:e.url},!1)),l.always(u.xhr(e),function(e){t.data&&(t.data.status=e.status),t.stop()})},e.prototype.makeChunkedRequest=function(e){function t(e){for(var t,n,i=0,o={};;){if(t=e.indexOf(":",i),n=e.indexOf("\n",t+1),0>t||0>n)break;o[e.substring(i,t).trim()]=e.substring(t+1,n).trim(),i=n+1}return o}function n(e){if(d)return o("canceled"),void 0;var n=e.indexOf("\r\n\r\n",a);if(-1!==n){for(var i=[];-1!==n;){var s=t(e.substring(a,n)),u=Number(s["Content-Length"]);if(n+4+u>e.length)break;var c={header:s,body:e.substr(n+4,u)};l.push(c),i.push(c),a=n+4+u,n=e.indexOf("\r\n\r\n",a)}r(i)}}var i,o,r,s=this,a=0,l=[],d=!1;return new u.Promise(function(t,a,u){i=t,o=a,r=u,s.makeRequest(e).done(function(e){n(e.responseText),i(l)},function(e){o(e)},function(e){3===e.readyState&&n(e.responseText)})},function(){d=!0})},e}();t.BaseRequestService=g;var m=function(){function e(e){this._selection=e||[]}return Object.defineProperty(e.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return 0===this._selection.length},e.EMPTY=new e([]),e}();t.Selection=m;var v=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.toArray=function(){return this.selection},t}(m);t.StructuredSelection=v,function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(t.Severity||(t.Severity={})),t.Severity;var y=function(){function e(){}return e.SERVICE_CHANGED="service-changed",e.SET_CHANGED="set-changed",e.SET_ADDED="set-added",e.SET_REMOVED="set-removed",e}();t.MarkerServiceConstants=y;var b=function(){function e(){}return e.UPDATED="update",e.FILE_CHANGE="fileChange",e}();t.ConfigurationServiceEventTypes=b,t.ResourceEvents={ADDED:"resource.added",REMOVED:"resource.removed",CHANGED:"resource.changed"}}),define("vs/base/injector",["require","exports","vs/base/assert","vs/base/types","vs/base/strings"],function(e,t,n,i,o){"use strict";function r(e){for(var t={},n=e.prototype||e;null!==n;){for(var i=Object.keys(n),o=0,r=i.length;r>o;o++)u.startsWith(i[o],l)&&(t[i[o].substr(d,1).toLocaleLowerCase()+i[o].substring(d+1)]=!0);n=Object.getPrototypeOf(n)}return Object.keys(t)}var s=n,a=i,u=o,l="inject",d=l.length,c=function(){function e(){this.map={},this.parent=null}return e.prototype.setParent=function(e){this.parent=e},e.prototype.registerService=function(e,t){return s.ok(!a.isUndefinedOrNull(e)),s.ok(!a.isUndefinedOrNull(t)),this.map[e.toLowerCase()]=t,t},e.prototype.injectTo=function(e){var t=this;if(s.ok(!a.isUndefinedOrNull(e)),a.isArray(e))return e.forEach(function(e){t.injectTo(e)}),void 0;for(var n in e)if(0===n.indexOf(l)){var i=e[n];if(a.isFunction(i)){n=n.substring(d).toLowerCase();var o=this.findService(n,e);a.isUndefinedOrNull(o)||i.apply(e,[o])}}},e.prototype.createChild=function(){var t=new e;return t.setParent(this),t},e.prototype.findService=function(e,t){"undefined"==typeof t&&(t=null);var n=this.map[e];return!a.isUndefinedOrNull(n)&&t!==n||null===this.parent||(n=this.parent.findService(e,t)),n},e.prototype.dispose=function(){this.map=null,this.parent=null},e}();t.Container=c,t.computeInjectionDependencies=r});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/platform",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/base/assert","vs/platform/services"],function(e,t,n,i,o,r){"use strict";var s=n,a=i,u=o,l=function(){function e(e){this.ctor=e}return e.prototype.createNew=function(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];e.unshift(this.ctor);var n=a.create.apply(this,e);return this.assertType(n),n},e.prototype.assertType=function(){},e.prototype.describes=function(e){return e===this.ctor||e instanceof this.ctor},e.prototype.getCtor=function(){return this.ctor},e}();t.BaseDescriptor=l;var d=function(){function t(e,t,n){"undefined"==typeof n&&(n=[]),u.ok(!a.isUndefinedOrNull(e),"deferred desc must have a moduleId"),u.ok(!a.isUndefinedOrNull(t),"deferred desc must have a ctorName"),this.moduleId=e,this.ctorName=t,this.payload=n}return t.prototype.getModuleId=function(){return this.moduleId},t.prototype.getCtorName=function(){return this.ctorName},t.prototype.getPayload=function(){return this.payload},t.prototype.loadAndCreate=function(t){var n=this;return new s.Promise(function(i){e([n.moduleId],function(e){try{var o=n.doCreate(e,t);i(o)}catch(r){r(r)}})})},t.prototype.syncLoadAndCreate=function(t){var n,i=null;try{n=e(this.moduleId)}catch(o){return null}return i=this.doCreate(n,t)},t.prototype.doCreate=function(e,t){if(a.isUndefinedOrNull(e[this.ctorName]))throw new Error("module "+this.moduleId+" does not export "+this.ctorName);var n=this.payload.slice(0);n.unshift(e[this.ctorName]);var i=a.create.apply(null,n);return t&&t.injectTo(i),i},t.prototype.equals=function(e){return e?this.moduleId===e.moduleId&&this.ctorName===e.ctorName:!1},t}();t.DeferredDescriptor=d;var c=function(t){function n(e,n,i,o){t.call(this,n,i,o),this.entryModuleIds=a.isString(e)?[e]:e}return __extends(n,t),n.prototype.loadAndCreate=function(t){var n=this;return new s.Promise(function(i,o){e(n.entryModuleIds,function(){e([n.getModuleId()],function(e){a.isUndefinedOrNull(e[n.getCtorName()])&&o(new Error("module "+n.getModuleId()+" does not export "+n.getCtorName()));var r=n.getPayload().slice(0);r.unshift(e[n.getCtorName()]);var s=a.create.apply(null,r);t&&t.injectTo(s),i(s)})})})},n.prototype.syncLoadAndCreate=function(){throw new Error("Unsupported")},n}(d);t.EntryPointAwareDeferredDescriptor=c;var h=function(){function e(){this.data={}}return e.prototype.add=function(e,t){u.ok(a.isString(e)),u.ok(a.isObject(t)),u.ok(!this.data.hasOwnProperty(e),"There is already an extension with this id"),this.data[e]=t},e.prototype.knows=function(e){return this.data.hasOwnProperty(e)},e.prototype.as=function(e){return this.data[e]||null},e}();t.Registry=new h}),define("vs/platform/injectorService",["require","exports","vs/base/lib/winjs.base","vs/base/injector","vs/base/assert","vs/base/types","vs/platform/platform"],function(e,t,n,i,o,r,s){"use strict";function a(e){var t=new h.Container,n=new m(t);return u(e,t),l(e,t),n}function u(e,t){p.ok(!Object.keys(e).some(function(e){return e===m._name}),"injectorService is NOT allowed to be added because it is implict"),Object.keys(e).forEach(function(n){var i=e[n];t.registerService(n,i)})}function l(e,t){Object.keys(e).forEach(function(n){var i=e[n];t.injectTo(i),d(i)})}function d(e){f.isFunction(e[m._fnInjectionDone])&&e[m._fnInjectionDone].apply(e)}var c=n,h=i,p=o,f=r,g=s,m=function(){function t(e){this.diContainer=e,this.diContainer.registerService(t._name,this),this.children=[]}return t.prototype.injectTo=function(e){this.diContainer.injectTo(e),d(e)},t.prototype.createChild=function(e){var n=this.diContainer.createChild();n.registerService(t._name,n),u(e,n),l(e,n);var i=new t(n);return this.children.push(i),i},t.prototype.newInstance=function(t){var n=this;return new c.Promise(function(i,o){e([t.getModuleId()],function(e){for(var r=e[t.getCtorName()],s=h.computeInjectionDependencies(r),a={},u=0,l=s.length;l>u;u++){var d=s[u],p=n.diContainer.findService(d);if(f.isUndefinedOrNull(p))return o(new Error("missing dependency: "+d));p instanceof g.DeferredDescriptor&&(a[d]=n.newInstance(p))}c.Promise.join(a).then(function(e){n.diContainer=n.diContainer.createChild();for(var t=Object.keys(e),s=0,a=t.length;a>s;s++)n.diContainer.registerService(t[s],e[t[s]]);try{var u=f.create(r);n.injectTo(u),i(u)}catch(l){o(l)}},o)})})},t._name="injectorService",t._fnInjectionDone="injectionDone",t}();t.create=a}),define("vs/platform/telemetry/telemetryService",["require","exports","vs/base/strings","vs/base/lib/winjs.base","vs/base/performance/timer","vs/base/errors","vs/nls!vs/editor/worker/editorWorkerServer"],function(e,t,n,i,o,r,s){"use strict";var a=n,u=i,l=o,d=r,c=s,h=function(){function e(t){"undefined"==typeof t&&(t=!1),this.eventQueue=[],this.publicOnly=t,this.sessionID=a.generateUuid(8)+Date.now(),this.eventMaxQueueSize=e.EVENT_QUEUE_LIMIT,this.eventBatchSize=e.EVENT_BATCH_SIZE,this.failureCount=0,this.sendingEvents=!1,this.waitIntervalId=null,this.timeKeeper=new l.TimeKeeper,this.toUnbind=[],this.toUnbind.push(this.timeKeeper.addListener("eventStop",this.onTelemetryTimerEventStop.bind(this))),this.toUnbind.push(d.errorHandler.addListener(this.onErrorEvent.bind(this)))}return e.prototype.dispose=function(){for(;this.toUnbind.length;)this.toUnbind.pop()();this.timeKeeper.dispose()},e.prototype.onTelemetryTimerEventStop=function(e){var t=e.data||{};t.duration=e.timeTaken(),"public"===e.topic?this.publicLog(e.name,t):this.log(e.name,t)},e.prototype.onErrorEvent=function(e,t,n){"undefined"==typeof t&&(t=null),"undefined"==typeof n&&(n=null),this.log("UnhandledError",{friendlyMessage:t,verboseMessage:n})},e.prototype.injectRequestService=function(e){this.requestService=e},e.prototype.start=function(e,t,n){var i=n?"public":"private",o=this.timeKeeper.start(i,e);return t&&(o.data=t),o},e.prototype.log=function(e,t){this.publicOnly||this.handleEvent("restricted",e,t)},e.prototype.publicLog=function(e,t){this.handleEvent("public",e,t)},e.prototype.handleEvent=function(e,t,n){this.eventQueue.length>=this.eventMaxQueueSize||(n=n||{},n.source="client",this.eventQueue.push({name:t,kind:e,timestamp:new Date,data:JSON.stringify(n),sessionID:this.sessionID}),this.sendingEvents||this.failureCount>0||(this.eventQueue.length>this.eventBatchSize?(clearTimeout(this.waitIntervalId),this.waitIntervalId=null,this.sendEvents()):this.sendSoon()))},e.prototype.sendSoon=function(){var t=this;null===this.waitIntervalId&&(this.waitIntervalId=setTimeout(function(){t.waitIntervalId=null,t.sendEvents()},e.EVENT_INTERVAL*Math.pow(2,this.failureCount)))},e.prototype.sendEvents=function(){var e=this;this.sendingEvents=!0;var t=this.eventQueue.splice(0,this.eventBatchSize);0!==t.length&&this.submitToServer(t).then(function(){e.failureCount=0},function(){e.eventQueue.unshift.apply(e.eventQueue,t),e.failureCount++}).done(function(){e.sendingEvents=!1,e.eventQueue.length>0&&e.sendSoon()})},e.prototype.submitToServer=function(e){var t=JSON.stringify(e),n=this.requestService.getRequestUrl("telemetry"),i={type:"POST",url:n,data:t,headers:{"Content-Type":"application/json"}};return this.requestService.makeRequest(i).then(function(e){return e.status>=200&&e.status<300?u.Promise.wrapError(c.localize("vs_platform_telemetry_telemetryService",0,e.status)):void 0})},e.EVENT_QUEUE_LIMIT=1e4,e.EVENT_INTERVAL=3e4,e.EVENT_BATCH_SIZE=100,e}();t.TelemetryService=h;var p=function(){function e(){}return e.prototype.log=function(){},e.prototype.publicLog=function(){},e.prototype.start=function(){return l.nullEvent},e}();t.NullTelemetryService=p,t.nullService=new p});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/platform/markers/markers",["require","exports","vs/base/assert","vs/base/network"],function(e,t,n,i){"use strict";function o(e,t,n,i,o){return{type:"text",severity:e,code:t,text:n,offset:i,length:o}}function r(e,t,n,i){return{type:"text",severity:e,code:t,text:n,range:i}}function s(e){return new g(e)}function a(e,t){return t+"|"+e.toExternal()}function u(e,t){return new v(e,t)}function l(e){return v.fromJson(e)}function d(e,t){var n=null;if(t){if(c.ok(e.getAssociatedResource().toExternal()===t.getAssociatedResource().toExternal()),e.getId()===g.DEFAULT_GROUP)return n=new g(t.getAssociatedResource(),e.getMarkers()),t.getGroups().forEach(function(e){n.addGroup(e)}),n;var i=new f(t,e.getId(),e.getMarkers()),o=t.getGroup(e.getId());return o?(n=new g(t.getAssociatedResource(),t.getMarkers()),t.getGroups().forEach(function(e){e.getId()!==i.getId()&&n.addGroup(e)}),n.addGroup(i),n):(t.addGroup(i),t)}if(e.getId()===g.DEFAULT_GROUP)return new g(e.getAssociatedResource(),e.getMarkers());n=new g(e.getAssociatedResource());var r=new f(n,e.getId(),e.getMarkers());return n.addGroup(r),n}var c=n,h=i;!function(e){e[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(t.Severity||(t.Severity={})),t.Severity,t.createTextMarker=o,t.createRangeTextMarker=r;var p=function(){function e(e){"undefined"==typeof e&&(e=[]),this.markers=e}return e.prototype.length=function(){return this.markers.length},e.prototype.markerAt=function(e){return this.markers[e]},e.prototype.getMarkers=function(){return this.markers.slice(0)},e.prototype.forEach=function(e){this.markers.forEach(e)},e}(),f=function(e){function t(t,n,i){"undefined"==typeof i&&(i=[]),e.call(this,i),this.owner=t,this.id=n}return __extends(t,e),t.prototype.getAssociatedResource=function(){return this.owner.getAssociatedResource()},t.prototype.getId=function(){return this.id},t}(p),g=function(e){function t(t,n){"undefined"==typeof n&&(n=[]),e.call(this,n),this.resource=t,this.groups=[]}return __extends(t,e),t.prototype.getAssociatedResource=function(){return this.resource},t.prototype.getId=function(){return t.DEFAULT_GROUP},t.prototype.getMarkers=function(){var t=e.prototype.getMarkers.call(this);return this.groups.forEach(function(e){t=t.concat(e.getMarkers())}),t},t.prototype.getGroups=function(){return this.groups.slice(0)},t.prototype.getGroup=function(e){if(t.DEFAULT_GROUP===e)return this;for(var n=0;n<this.groups.length;n++)if(this.groups[n].getId()===e)return this.groups[n];return null},t.prototype.addGroup=function(e){c.ok(e.getId()!==t.DEFAULT_GROUP);var n=this.getGroup(e.getId());c.ok(null===n),this.groups.push(e)},t.DEFAULT_GROUP="defaultGroup",t}(p);t.createMarkerSet=s;var m=["type","id"],v=function(){function e(e,t){this.resource=e,this.id=t,this.markers=[]}return e.prototype.getAssociatedResource=function(){return this.resource},e.prototype.getId=function(){return this.id},e.prototype.computeKey=function(){return this.id+"|"+this.resource.toExternal()},e.prototype.length=function(){return this.markers.length},e.prototype.markerAt=function(e){return this.markers[e]},e.prototype.forEach=function(e){this.markers.forEach(e)},e.prototype.getMarkers=function(){return this.markers.slice(0)},e.prototype.addMarker=function(e){this.markers.push(e)},e.prototype.toJson=function(){return{resource:this.resource.toExternal(),id:this.id,markers:this.markers.slice(0)}},e.fromJson=function(t){var n=new e(new h.URL(t.resource),t.id);n.markers=t.markers.slice(0);for(var i={},o=0;o<n.markers.length;o++){var r=n.markers[o];m.forEach(function(e){var t=r[e],n=i[t];n?r[e]=n:i[t]=t})}return n},e}();t.computeKey=a,t.createMarkerUpdate=u,t.createMarkerUpdateFromJson=l,t.processMarkerUpdate=d}),define("vs/platform/markers/markersWorker",["require","exports","vs/base/assert","./markers","vs/base/objects"],function(e,t,n,i,o){"use strict";function r(e,t){return new c(e,t)}var s=n,a=i,u=o,l=function(){function e(){}return e.prototype.injectPublisherService=function(e){this.publisher=e},e.prototype.injectResourceService=function(e){this.resourceService=e},e.prototype.createPublisher=function(){for(var e=this.resourceService.all(),t=[],n=0,i=e.length;i>n;n++)"number"==typeof e[n].versionId&&t.push(e[n]);return new c(t,this.publisher)},e}();t.MarkerService=l;var d=function(){function e(e){this.markers=e}return e.prototype.getAssociatedResource=function(){return this.markers.getAssociatedResource()},e.prototype.getId=function(){return this.markers.getId()
},e.prototype.forEach=function(e){this.markers.forEach(e)},e.prototype.length=function(){return this.markers.length()},e.prototype.at=function(e){return this.markers.markerAt(e)},e}(),c=function(){function e(e,t){var n=this;this.targets=e,this.publisher=t,this.markerUpdates={},this.modelInfos={},this.models={},this.globalChangeCount=0,this.markerUpdateChangeCounts={},Object.keys(e).forEach(function(t){var i=e[t],o=i.getAssociatedResource().toExternal();n.modelInfos[o]={id:i.id,version:i.version},n.models[o]=i})}return e.prototype.readMarkers=function(t,n,i){var o,r;"undefined"==typeof i?(o=e.DEFAULT_GROUP,r=n):(o=n,r=i);var s=this.markerUpdates[a.computeKey(t,o)];s?r(new d(s)):r(null)},e.prototype.batchChanges=function(e){try{this.globalChangeCount++,e(this)}finally{this.globalChangeCount--,0===this.globalChangeCount&&this._publishReadyMarkerUpdates()}},e.prototype.changeMarkers=function(t,n,i){var o,r;"undefined"==typeof i?(o=e.DEFAULT_GROUP,r=n):(o=n,r=i),s.ok("*"!==o,"Parameter ownerId can't be '*'");var a=this._getMarkerUpdate(t,o),u={getAssociatedResource:function(){return a.getAssociatedResource()},getId:function(){return a.getId()},addMarker:function(e){a.addMarker(e)}};try{this._increaseMarkerUpdateChangeCount(a),r(u)}finally{this._decreaseMarkerUpdateChangeCount(a)}},e.prototype._getMarkerUpdate=function(e,t){var n=a.computeKey(e,t),i=this.markerUpdates[n];return i||(i=a.createMarkerUpdate(e,t),this.markerUpdates[n]=i),i},e.prototype._removeMarkerUpdate=function(e){var t=e.computeKey();delete this.markerUpdates[t]},e.prototype._increaseMarkerUpdateChangeCount=function(e){var t=e.computeKey(),n=this.markerUpdateChangeCounts[t];this.markerUpdateChangeCounts[t]="undefined"==typeof n?1:++n},e.prototype._decreaseMarkerUpdateChangeCount=function(e){var t=e.computeKey(),n=this.markerUpdateChangeCounts[t];n>1?this.markerUpdateChangeCounts[t]=--n:(delete this.markerUpdateChangeCounts[t],0===this.globalChangeCount&&this._publishMarkerUpdate(e))},e.prototype._getMarkerUpdateChangeCount=function(e){return this.markerUpdateChangeCounts[e.computeKey()]},e.prototype._publishMarkerUpdate=function(e){var t=[];t.push(this._convertToJson(e)),this.publisher.sendMessage("publishMarkerUpdates",t),this._removeMarkerUpdate(e)},e.prototype._publishReadyMarkerUpdates=function(){var e=this,t=[];Object.keys(this.markerUpdates).forEach(function(n){var i=e.markerUpdates[n],o=e._getMarkerUpdateChangeCount(i);"undefined"==typeof o&&t.push(e._convertToJson(i))}),this.publisher.sendMessage("publishMarkerUpdates",t)},e.prototype._convertToJson=function(e){var t=e.toJson(),n=e.getAssociatedResource().toExternal(),i=this.modelInfos[n];i&&(t.model=i);for(var o=this.models[n],r=t.markers,s=0,a=r.length;a>s;s++){var l=r[s];if(o&&"object"!=typeof l.range){var d=null;if("undefined"!=typeof l.offset&&"undefined"!=typeof l.length){l=u.clone(l),d={};var c=l.offset,h=Math.max(0,l.length);d.startLineNumber=o.getLineNumberFromOffset(c),d.startColumn=1+c-o.getLineStart(d.startLineNumber),d.endLineNumber=o.getLineNumberFromOffset(c+h),d.endColumn=1+c+h-o.getLineStart(d.endLineNumber),delete l.offset,delete l.length}else"undefined"!=typeof l.lineNumber&&"undefined"!=typeof l.column&&"undefined"!=typeof l.length?(l=u.clone(l),d={},d.startLineNumber=l.lineNumber,d.startColumn=l.column,d.endLineNumber=l.lineNumber,d.endColumn=l.column+l.length,delete l.lineNumber,delete l.column,delete l.length):"undefined"!=typeof l.startLineNumber&&"undefined"!=typeof l.startColumn&&"undefined"!=typeof l.endLineNumber&&"undefined"!=typeof l.endColumn&&(l=u.clone(l),d={},d.startLineNumber=l.startLineNumber,d.startColumn=l.startColumn,d.endLineNumber=l.endLineNumber,d.endColumn=l.endColumn,delete l.startLineNumber,delete l.startColumn,delete l.endLineNumber,delete l.endColumn);null!==d&&(l.range=d,r[s]=l)}}return t},e.DEFAULT_GROUP="defaultGroup",e}();t.createPublisher=r}),define("vs/editor/core/constants",["require","exports"],function(e,t){"use strict";t.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor",ITerminal:"vs.editor.ITerminal"},t.ClassName={EditorWarningDecoration:"greensquiggly",EditorErrorDecoration:"redsquiggly"},t.Handler={ExecuteCommand:"executeCommand",ExecuteCommands:"executeCommands",CursorLeft:"cursorLeft",CursorLeftSelect:"cursorLeftSelect",CursorWordLeft:"cursorWordLeft",CursorWordLeftSelect:"cursorWordLeftSelect",CursorRight:"cursorRight",CursorRightSelect:"cursorRightSelect",CursorWordRight:"cursorWordRight",CursorWordRightSelect:"cursorWordRightSelect",CursorUp:"cursorUp",CursorUpSelect:"cursorUpSelect",CursorDown:"cursorDown",CursorDownSelect:"cursorDownSelect",CursorPageUp:"cursorPageUp",CursorPageUpSelect:"cursorPageUpSelect",CursorPageDown:"cursorPageDown",CursorPageDownSelect:"cursorPageDownSelect",CursorHome:"cursorHome",CursorHomeSelect:"cursorHomeSelect",CursorEnd:"cursorEnd",CursorEndSelect:"cursorEndSelect",CursorTop:"cursorTop",CursorTopSelect:"cursorTopSelect",CursorBottom:"cursorBottom",CursorBottomSelect:"cursorBottomSelect",AddCursorDown:"addCursorDown",AddCursorUp:"addCursorUp",MoveTo:"moveTo",MoveToSelect:"moveToSelect",CreateCursor:"createCursor",LastCursorMoveToSelect:"lastCursorMoveToSelect",JumpToBracket:"jumpToBracket",Type:"type",Paste:"paste",Tab:"tab",Indent:"indent",Outdent:"outdent",DeleteLeft:"deleteLeft",DeleteRight:"deleteRight",DeleteWordLeft:"deleteWordLeft",DeleteWordRight:"deleteWordRight",DeleteAllLeft:"deleteAllLeft",DeleteAllRight:"deleteAllRight",Enter:"enter",Escape:"escape",Cut:"cut",Undo:"undo",Redo:"redo",WordSelect:"wordSelect",WordSelectDrag:"wordSelectDrag",LastCursorWordSelect:"lastCursorWordSelect",LineSelect:"lineSelect",LineSelectDrag:"lineSelectDrag",LastCursorLineSelect:"lastCursorLineSelect",LastCursorLineSelectDrag:"lastCursorLineSelectDrag",LineInsertBefore:"lineInsertBefore",LineInsertAfter:"lineInsertAfter",LineBreakInsert:"lineBreakInsert",SelectAll:"selectAll"},t.EventType={Disposed:"disposed",ConfigurationChanged:"configurationChanged",ConfigurationLineHeightChanged:"configurationLineHeightChanged",ConfigurationFontChanged:"configurationFontChanged",ModelDispose:"modelDispose",ModelChanged:"modelChanged",ModelModeChanged:"modelsModeChanged",ModelTokensChanged:"modelTokensChanged",ModelContentChanged:"contentChanged",ModelContentChangedFlush:"flush",ModelContentChangedLinesDeleted:"linesDeleted",ModelContentChangedLinesInserted:"linesInserted",ModelContentChangedLineChanged:"lineChanged",OnBeforeModelContentChangedFlush:"onBeforeFlush",OnBeforeModelContentChangedLinesDeleted:"onBeforeLinesDeleted",OnBeforeModelContentChangedLinesInserted:"onBeforeLinesInserted",OnBeforeModelContentChangedLineChanged:"onBeforeLineChanged",ModelPropertiesChanged:"propertiesChanged",ModelDecorationsChanged:"decorationsChanged",CursorPositionChanged:"positionChanged",CursorSelectionChanged:"selectionChanged",CursorRevealRange:"revealRange",ViewFocusGained:"focusGained",ViewFocusLost:"focusLost",ViewFocusChanged:"focusChanged",ViewScrollWidthChanged:"scrollWidthChanged",ViewScrollHeightChanged:"scrollHeightChanged",ViewScrollChanged:"scrollChanged",ViewZonesChanged:"zonesChanged",ViewLayoutChanged:"viewLayoutChanged",ContextMenu:"contextMenu",MouseDown:"mousedown",MouseUp:"mouseup",MouseMove:"mousemove",MouseLeave:"mouseleave",KeyDown:"keydown",KeyUp:"keyup",EditorLayout:"editorLayout",DiffUpdated:"diffUpdated"}}),define("vs/editor/core/view/model/prefixSumComputer",["require","exports"],function(e,t){"use strict";var n=function(){function e(e){this.values=e,this.prefixSum=[];for(var t=0,n=this.values.length;n>t;t++)this.prefixSum[t]=0;this.prefixSumValidIndex=-1}return e.prototype.getCount=function(){return this.values.length},e.prototype.insertValue=function(e,t){this.values.splice(e,0,t),this.prefixSum.splice(e,0,0),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.changeValue=function(e,t){this.values[e]!==t&&(this.values[e]=t,e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1))},e.prototype.removeValues=function(e,t){this.values.splice(e,t),this.prefixSum.splice(e,t),e-1<this.prefixSumValidIndex&&(this.prefixSumValidIndex=e-1)},e.prototype.getTotalValue=function(){return 0===this.values.length?0:this.getAccumulatedValue(this.values.length-1)},e.prototype.getAccumulatedValue=function(e){if(e<=this.prefixSumValidIndex)return this.prefixSum[e];var t=this.prefixSumValidIndex+1;0===t&&(this.prefixSum[0]=this.values[0],t++);for(var n=t;e>=n;n++)this.prefixSum[n]=this.prefixSum[n-1]+this.values[n];return this.prefixSumValidIndex=Math.max(this.prefixSumValidIndex,e),this.prefixSum[e]},e.prototype.getIndexOf=function(e,t){for(var n,i,o,r=0,s=this.values.length-1;s>=r;)if(n=0|r+(s-r)/2,o=this.getAccumulatedValue(n),i=o-this.values[n],i>e)s=n-1;else{if(!(e>=o))break;r=n+1}t.index=n,t.remainder=e-i},e}();t.PrefixSumComputer=n});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/mirrorModel",["require","exports","vs/base/network","vs/base/eventEmitter","vs/editor/core/constants","vs/editor/core/view/model/prefixSumComputer"],function(e,t,n,i,o,r){"use strict";var s=n,a=i,u=o,l=r,d=function(e){function t(t,n,i,o,r){e.call(this),this.wordsRegexp=null,o||(o=new s.URL(s.schemas.inMemory+"://localhost/vs/editor/core/model/mirrorModel/"+t)),r||(r={}),this._id=t,this._versionId=n,this.associatedResource=o,this.extraProperties=r,this.lines=i.split("\n")}return __extends(t,e),t.prototype.destroy=function(){},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"versionId",{get:function(){return this._versionId},enumerable:!0,configurable:!0}),t.prototype.getAssociatedResource=function(){return this.associatedResource},t.prototype.getProperty=function(e){return this.extraProperties.hasOwnProperty(e)?this.extraProperties[e]:null},t.prototype.onEvents=function(e){for(var t=!1,n=0,i=e.length;i>n;n++){var o=e[n];switch(o.type){case u.EventType.ModelContentChanged:switch(this._versionId=o.versionId,this.lineStarts=null,o.changeType){case u.EventType.ModelContentChangedFlush:this.emit(u.EventType.OnBeforeModelContentChangedFlush,o),this.lines=o.detail.split("\n"),t=!0;break;case u.EventType.ModelContentChangedLinesDeleted:this.emit(u.EventType.OnBeforeModelContentChangedLinesDeleted,o),this._onLinesDeleted(o),t=!0;break;case u.EventType.ModelContentChangedLinesInserted:this.emit(u.EventType.OnBeforeModelContentChangedLinesInserted,o),this._onLinesInserted(o),t=!0;break;case u.EventType.ModelContentChangedLineChanged:this.emit(u.EventType.OnBeforeModelContentChangedLineChanged,o),this._onLineChanged(o),t=!0}break;case u.EventType.ModelPropertiesChanged:this.extraProperties=o.properties;break;default:console.warn("Unknown model event: "+o.type)}}t&&this.emit("changed",{})},t.prototype._onLineChanged=function(e){this.lines[e.lineNumber-1]=e.detail},t.prototype._onLinesDeleted=function(e){var t=e.fromLineNumber-1,n=e.toLineNumber-1;this.lines.splice(t,n-t+1)},t.prototype._onLinesInserted=function(e){var t,n,i=e.detail.split("\n");for(t=e.fromLineNumber-1,n=0;t<e.toLineNumber;t++,n++)this.lines.splice(t,0,i[n])},t.prototype.getValue=function(){return this.lines.join("\n")},t.prototype.getValueInRange=function(e,t){var n=t||"\n";if(e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn)return"";if(e.startLineNumber===e.endLineNumber)return this.lines[e.startLineNumber-1].substring(e.startColumn-1,e.endColumn-1);for(var i=e.startLineNumber-1,o=e.endLineNumber-1,r=this.lines[i],s=this.lines[o],a=[],u=i+1;o>u;u++)a.push(this.lines[u]);var l=r.substring(e.startColumn-1,r.length);return a.length>0&&(l+=n+a.join(n)),l+=n+s.substring(0,e.endColumn-1)},t.prototype.getLineNumberFromOffset=function(e){for(var t=0,n=0,i=this.lines.length;i>n;n++)if(t+=this.lines[n].length+1,t>e)return n+1;return this.lines.length},t.prototype.getOffsetFromPosition=function(e){return this.getLineStart(e.lineNumber)+e.column-1},t.prototype.getLineStart=function(e){if(!this.lineStarts){for(var t=[0],n=1,i=this.lines.length;i>n;n++)t.push(this.lines[n-1].length+1);this.lineStarts=new l.PrefixSumComputer(t)}var o=Math.min(e,this.lines.length)-1;return this.lineStarts.getAccumulatedValue(o)},t.prototype.getLineContent=function(e){return this.lines[e-1]},t.prototype.getRawLines=function(){return this.lines.slice(0)},t.prototype.getLineCount=function(){return this.lines.length},t.prototype.getLineMaxColumn=function(e){return this.lines[e-1].length+1},t.prototype.getAllWordsWithRange=function(){var e,t=[];for(e=0;e<this.lines.length;e++){var n=this.lines[e];this.wordenize(n).forEach(function(i){var o=n.substring(i.start,i.end),r={startLineNumber:e+1,startColumn:i.start+1,endLineNumber:e+1,endColumn:i.end+1};t.push({text:o,range:r})})}return t},t.prototype.getAllWords=function(){var e=this,t=[];return this.lines.forEach(function(n){e.wordenize(n).forEach(function(e){t.push(n.substring(e.start,e.end))})}),t},t.prototype.getAllUniqueWords=function(e){var t=!1,n={};return this.getAllWords().filter(function(i){return e&&!t&&e===i?(t=!0,!1):n[i]?!1:(n[i]=!0,!0)})},t.prototype.getWordAtPosition=function(e){var t=Math.min(e.lineNumber,this.lines.length)-1,n=this.lines[t];return this.getWord(n,e.column-1,function(e,t,n){return e.substring(t,n)})},t.prototype.getWordUntilPosition=function(e){var t=Math.min(e.lineNumber,this.lines.length)-1,n=this.lines[t];return this.getWord(n,e.column-1,function(t,n){return-1===n?"":t.substring(n,e.column-1)})},t.prototype.wordenize=function(e){var t,n=[];if(null===this.wordsRegexp){var i=this.getProperty("$WordDefinitionForMirrorModel");this.wordsRegexp=i?new RegExp(i.source,i.flags):/(-?\d*\.\d\w*)|(\w+)/g}for(;t=this.wordsRegexp.exec(e);)n.push({start:t.index,end:t.index+t[0].length});return n},t.prototype.getWord=function(e,t,n){for(var i=this.wordenize(e),o=0;o<i.length&&t>=i[o].start;o++)if(t<=i[o].end)return n(e,i[o].start,i[o].end);return n(e,-1,-1)},t}(a.EventEmitter);t.MirrorModel=d});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/worker/resourceService",["require","exports","vs/base/eventEmitter","vs/base/types","vs/platform/services","vs/editor/core/model/mirrorModel"],function(e,t,n,i,o,r){"use strict";var s=n,a=i,u=o,l=r,d=function(e){function t(){e.call(this),this.data={},this.linked={},this.unbinds={}}return __extends(t,e),t.prototype.insert=function(e,t){var n=this,i=this.remove(e,t),o=e.toString();return this.data[o]=t,this.unbinds[o]=[],this.unbinds[o].push(t.addBulkListener(function(t){n.emit(u.ResourceEvents.CHANGED,{url:e,originalEvents:t})})),this.emit(u.ResourceEvents.ADDED,{url:e,addedElement:t,removedElement:i}),i},t.prototype.insertLinked=function(e,t,n){if(this.contains(e)){var i=e.toExternal();this.linked.hasOwnProperty(i)||(this.linked[i]={}),this.linked[i][t]=n,a.isFunction(n.onChange)&&this.unbinds[i].push(this.data[i].addBulkListener(function(e){n.onChange(e)}))}},t.prototype.get=function(e){return this.data[e.toString()]?this.data[e.toString()]:null},t.prototype.getLinked=function(e,t){var n=e.toExternal();return this.data[n]?this.linked.hasOwnProperty(n)?this.linked[n].hasOwnProperty(t)?this.linked[n][t]:null:null:null},t.prototype.all=function(){var e=this;return Object.keys(this.data).map(function(t){return e.data[t]})},t.prototype.allLinked=function(){var e=this,t=[];return Object.keys(this.linked).forEach(function(n){Object.keys(e.linked[n]).forEach(function(i){t.push(e.linked[n][i])})}),t},t.prototype.contains=function(e){return!!this.data[e.toString()]},t.prototype.remove=function(e,t){if(!this.contains(e))return!1;for(var n=e.toString(),i=this.data[n][0];this.unbinds[n].length>0;)this.unbinds[n].pop()();for(var o in this.linked[n])if(this.linked.hasOwnProperty(o)){var r=this.linked[n][o];a.isFunction(r.onRemove)&&r.onRemove()}return delete this.unbinds[n],delete this.linked[n],delete this.data[n],this.emit(u.ResourceEvents.REMOVED,{url:e,removedElement:i,addedElement:t}),!0},t}(s.EventEmitter);t.ResourceService=d;var c=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.injectDispatcherService=function(e){e.register("modelInitialize",this.onModelInitialize.bind(this)),e.register("modelDestroy",this.onModelDestroy.bind(this)),e.register("modelEvents",this.onModelEvents.bind(this))},t.prototype.onModelInitialize=function(e,t,n,i,o){var r=new l.MirrorModel(e,t,n,o,i);this.insert(o,r)},t.prototype.onModelDestroy=function(e){this.remove(e)},t.prototype.onModelEvents=function(e,t){var n=this.get(e);n.onEvents(t)},t}(d);t.WorkerResourceService=c}),define("vs/editor/worker/dispatcherService",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/base/network"],function(e,t,n,i,o){"use strict";var r=n,s=i,a=o,u=function(){function e(){this.table={}}return e.prototype.register=function(e){if(s.isString(e))this.table[e]=arguments[1];else for(var t in e){var n=e[t];s.isFunction(n)&&(this.table[t]=n.bind(e))}},e.prototype.dispatch=function(e){if(!this.table[e.type])return r.Promise.wrapError(new Error("no handler/route for: "+e.type));try{var t=this.deserialize(e.payload),n=this.table[e.type].apply(this.table[e.type],t);return r.Promise.is(n)?n:r.Promise.as(n)}catch(i){return r.Promise.wrapError(i)}},e.prototype.deserialize=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];!s.isUndefinedOrNull(i)&&s.isString(i.$url)&&(i=new a.URL(i.$url)),t.push(i)}return t},e}();t.DispatcherService=u}),define("vs/editor/diff/diffChange",["vs/base/lib/winjs.base"],function(e){"use strict";var t={Add:0,Remove:1,Change:2},n=e.Class.define(function(e,t,n,i){this.originalStart=e,this.originalLength=t,this.modifiedStart=n,this.modifiedLength=i},{getChangeType:function(){return 0===this.originalLength?t.Add:0===this.modifiedLength?t.Remove:t.Change},getOriginalEnd:function(){return this.originalStart+this.originalLength},getModifiedEnd:function(){return this.modifiedStart+this.modifiedLength}});return{DifferenceType:t,DiffChange:n}}),define("vs/editor/diff/diff",["vs/base/lib/winjs.base","vs/editor/diff/diffChange"],function(e,t){"use strict";var n=t.DiffChange,i={Assert:function(e,t){if(!e)throw new Error(t)}},o={Copy:function(e,t,n,i,o){for(var r=0;o>r;r++)n[i+r]=e[t+r]}},r=1447,s=e.Class.define(function(){this.m_changes=[],this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE,this.m_originalCount=0,this.m_modifiedCount=0},{MarkNextChange:function(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new n(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=Number.MAX_VALUE,this.m_modifiedStart=Number.MAX_VALUE},AddOriginalElement:function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_originalCount++},AddModifiedElement:function(e,t){this.m_originalStart=Math.min(this.m_originalStart,e),this.m_modifiedStart=Math.min(this.m_modifiedStart,t),this.m_modifiedCount++},getChanges:function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes},getReverseChanges:function(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}),a=e.Class.define(function(e,t,n){this.OriginalSequence=e,this.ModifiedSequence=t,this.ContinueProcessingPredicate=n||null,this.m_originalIds=[],this.m_modifiedIds=[],this.m_forwardHistory=[],this.m_reverseHistory=[],this.ComputeUniqueIdentifiers()},{ComputeUniqueIdentifiers:function(){var e=this.OriginalSequence.getLength(),t=this.ModifiedSequence.getLength();this.m_originalIds=new Array(e),this.m_modifiedIds=new Array(t);var n,i={},o=1;for(n=0;e>n;n++){var r=this.OriginalSequence.getElementHash(n);i.hasOwnProperty(r)?this.m_originalIds[n]=i[r]:(this.m_originalIds[n]=o++,i[r]=this.m_originalIds[n])}for(n=0;t>n;n++){var s=this.ModifiedSequence.getElementHash(n);i.hasOwnProperty(s)?this.m_modifiedIds[n]=i[s]:(this.m_modifiedIds[n]=o++,i[s]=this.m_modifiedIds[n])}},ElementsAreEqual:function(e,t){return this.m_originalIds[e]===this.m_modifiedIds[t]},ComputeDiff:function(){return this._ComputeDiff(0,this.OriginalSequence.getLength()-1,0,this.ModifiedSequence.getLength()-1)},_ComputeDiff:function(e,t,n,i){var o=[!1];return this.ComputeDiffRecursive(e,t,n,i,o)},ComputeDiffRecursive:function(e,t,o,r,s){for(s[0]=!1;t>=e&&r>=o&&this.ElementsAreEqual(e,o);)e++,o++;for(;t>=e&&r>=o&&this.ElementsAreEqual(t,r);)t--,r--;if(e>t||o>r){var a;return r>=o?(i.Assert(e===t+1,"originalStart should only be one more than originalEnd"),a=[new n(e,0,o,r-o+1)]):t>=e?(i.Assert(o===r+1,"modifiedStart should only be one more than modifiedEnd"),a=[new n(e,t-e+1,o,0)]):(i.Assert(e===t+1,"originalStart should only be one more than originalEnd"),i.Assert(o===r+1,"modifiedStart should only be one more than modifiedEnd"),a=[]),a}var u=[0],l=[0],d=this.ComputeRecursionPoint(e,t,o,r,u,l,s),c=u[0],h=l[0];if(null!==d)return d;if(!s[0]){var p=this.ComputeDiffRecursive(e,c,o,h,s),f=[];return f=s[0]?[new n(c+1,t-(c+1)+1,h+1,r-(h+1)+1)]:this.ComputeDiffRecursive(c+1,t,h+1,r,s),this.ConcatenateChanges(p,f)}return[new n(e,t-e+1,o,r-o+1)]},WALKTRACE:function(e,t,i,o,r,a,u,l,d,c,h,p,f,g,m,v,y,b){var C,_=null,E=null,w=new s,S=t,L=i,T=f[0]-v[0]-o,N=Number.MIN_VALUE,x=this.m_forwardHistory.length-1;do C=T+e,C===S||L>C&&d[C-1]<d[C+1]?(h=d[C+1],g=h-T-o,N>h&&w.MarkNextChange(),N=h,w.AddModifiedElement(h+1,g),T=C+1-e):(h=d[C-1]+1,g=h-T-o,N>h&&w.MarkNextChange(),N=h-1,w.AddOriginalElement(h,g+1),T=C-1-e),x>=0&&(d=this.m_forwardHistory[x],e=d[0],S=1,L=d.length-1);while(--x>=-1);if(_=w.getReverseChanges(),b[0]){var M=f[0]+1,I=v[0]+1;if(null!==_&&_.length>0){var k=_[_.length-1];M=Math.max(M,k.getOriginalEnd()),I=Math.max(I,k.getModifiedEnd())}E=[new n(M,p-M+1,I,m-I+1)]}else{w=new s,S=a,L=u,T=f[0]-v[0]-l,N=Number.MAX_VALUE,x=y?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do C=T+r,C===S||L>C&&c[C-1]>=c[C+1]?(h=c[C+1]-1,g=h-T-l,h>N&&w.MarkNextChange(),N=h+1,w.AddOriginalElement(h+1,g+1),T=C+1-r):(h=c[C-1],g=h-T-l,h>N&&w.MarkNextChange(),N=h,w.AddModifiedElement(h+1,g+1),T=C-1-r),x>=0&&(c=this.m_reverseHistory[x],r=c[0],S=1,L=c.length-1);while(--x>=-1);E=w.getChanges()}return this.ConcatenateChanges(_,E)},ComputeRecursionPoint:function(e,t,i,s,a,u,l){var d,c,h,p=0,f=0,g=0,m=0;e--,i--,a[0]=0,u[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];var v=t-e+(s-i),y=v+1,b=new Array(y),C=new Array(y),_=s-i,E=t-e,w=e-i,S=t-s,L=E-_,T=0===L%2;b[_]=e,C[E]=t,l[0]=!1;var N,x;for(h=1;v/2+1>=h;h++){var M=0,I=0;for(p=this.ClipDiagonalBound(_-h,h,_,y),f=this.ClipDiagonalBound(_+h,h,_,y),N=p;f>=N;N+=2){for(d=N===p||f>N&&b[N-1]<b[N+1]?b[N+1]:b[N-1]+1,c=d-(N-_)-w,x=d;t>d&&s>c&&this.ElementsAreEqual(d+1,c+1);)d++,c++;if(b[N]=d,d+c>M+I&&(M=d,I=c),!T&&Math.abs(N-E)<=h-1&&d>=C[N])return a[0]=d,u[0]=c,x<=C[N]&&r>0&&r+1>=h?this.WALKTRACE(_,p,f,w,E,g,m,S,b,C,d,t,a,c,s,u,T,l):null}var k=(M-e+(I-i)-h)/2;if(null!==this.ContinueProcessingPredicate&&!this.ContinueProcessingPredicate(M,this.OriginalSequence,k))return l[0]=!0,a[0]=M,u[0]=I,k>0&&r>0&&r+1>=h?this.WALKTRACE(_,p,f,w,E,g,m,S,b,C,d,t,a,c,s,u,T,l):(e++,i++,[new n(e,t-e+1,i,s-i+1)]);for(g=this.ClipDiagonalBound(E-h,h,E,y),m=this.ClipDiagonalBound(E+h,h,E,y),N=g;m>=N;N+=2){for(d=N===g||m>N&&C[N-1]>=C[N+1]?C[N+1]-1:C[N-1],c=d-(N-E)-S,x=d;d>e&&c>i&&this.ElementsAreEqual(d,c);)d--,c--;if(C[N]=d,T&&Math.abs(N-_)<=h&&d<=b[N])return a[0]=d,u[0]=c,x>=b[N]&&r>0&&r+1>=h?this.WALKTRACE(_,p,f,w,E,g,m,S,b,C,d,t,a,c,s,u,T,l):null}if(r>=h){var R=new Array(f-p+2);R[0]=_-p+1,o.Copy(b,p,R,1,f-p+1),this.m_forwardHistory.push(R),R=new Array(m-g+2),R[0]=E-g+1,o.Copy(C,g,R,1,m-g+1),this.m_reverseHistory.push(R)}}return this.WALKTRACE(_,p,f,w,E,g,m,S,b,C,d,t,a,c,s,u,T,l)},ConcatenateChanges:function(e,t){var n=[],i=null;return 0===e.length||0===t.length?t.length>0?t:e:this.ChangesOverlap(e[e.length-1],t[0],n)?(i=new Array(e.length+t.length-1),o.Copy(e,0,i,0,e.length-1),i[e.length-1]=n[0],o.Copy(t,1,i,e.length,t.length-1),i):(i=new Array(e.length+t.length),o.Copy(e,0,i,0,e.length),o.Copy(t,0,i,e.length,t.length),i)},ChangesOverlap:function(e,t,o){if(i.Assert(e.originalStart<=t.originalStart,"Left change is not less than or equal to right change"),i.Assert(e.modifiedStart<=t.modifiedStart,"Left change is not less than or equal to right change"),e.originalStart+e.originalLength>=t.originalStart||e.modifiedStart+e.modifiedLength>=t.modifiedStart){var r=e.originalStart,s=e.originalLength,a=e.modifiedStart,u=e.modifiedLength;return e.originalStart+e.originalLength>=t.originalStart&&(s=t.originalStart+t.originalLength-e.originalStart),e.modifiedStart+e.modifiedLength>=t.modifiedStart&&(u=t.modifiedStart+t.modifiedLength-e.modifiedStart),o[0]=new n(r,s,a,u),!0}return o[0]=null,!1},ClipDiagonalBound:function(e,t,n,i){if(e>=0&&i>e)return e;var o=n,r=i-n-1,s=0===t%2;if(0>e){var a=0===o%2;return s===a?0:1}var u=0===r%2;return s===u?i-1:i-2}});return{LcsDiff:a}}),define("vs/editor/diff/diffComputer",["vs/base/lib/winjs.base","vs/editor/diff/diff"],function(e,t){"use strict";function n(e){if(e.length<=1)return e;var t,n,i,r,s,a,u=[e[0]],l=u[0];for(t=1,n=e.length;n>t;t++)a=e[t],i=a.originalStart-(l.originalStart+l.originalLength),r=a.modifiedStart-(l.modifiedStart+l.modifiedLength),s=Math.min(i,r),o>s?(l.originalLength=a.originalStart+a.originalLength-l.originalStart,l.modifiedLength=a.modifiedStart+a.modifiedLength-l.modifiedStart):(u.push(a),l=a);return u}var i=2e3,o=3,r=t.LcsDiff,s=e.Class.define(function(e,t,n){this.buffer=e,this.startMarkers=t,this.endMarkers=n},{getLength:function(){return this.startMarkers.length},getElementHash:function(e){return this.buffer.substring(this.startMarkers[e].offset,this.endMarkers[e].offset)},getStartLineNumber:function(e){return e===this.startMarkers.length?this.startMarkers[e-1].lineNumber+1:this.startMarkers[e].lineNumber},getStartColumn:function(e){return this.startMarkers[e].column},getEndLineNumber:function(e){return this.endMarkers[e].lineNumber},getEndColumn:function(e){return this.endMarkers[e].column}}),a=e.Class.derive(s,function(e,t){var n,i,o,r,a,u="",l=[],d=[];for(o=0,n=0,i=e.length;i>n;n++)u+=e[n],r=1,a=e[n].length+1,t&&(r=this._getFirstNonBlankColumn(e[n],1),a=this._getLastNonBlankColumn(e[n],1)),l.push({offset:o+r-1,lineNumber:n+1,column:r}),d.push({offset:o+a-1,lineNumber:n+1,column:a}),o+=e[n].length;s.call(this,u,l,d)},{_getFirstNonBlankColumn:function(e,t){for(var n=0,i=e.length;i>n;n++)if(" "!==e.charAt(n)&&"	"!==e.charAt(n))return n+1;return t},_getLastNonBlankColumn:function(e,t){for(var n=e.length-1;n>=0;n--)if(" "!==e.charAt(n)&&"	"!==e.charAt(n))return n+2;return t},getCharSequence:function(e,t){var n,i,o,r,a=[],u=[];for(n=e;t>=n;n++)for(o=this.startMarkers[n],r=this.endMarkers[n],i=o.offset;i<r.offset;i++)a.push({offset:i,lineNumber:o.lineNumber,column:o.column+(i-o.offset)}),u.push({offset:i+1,lineNumber:o.lineNumber,column:o.column+(i-o.offset)+1});return new s(this.buffer,a,u)}}),u=e.Class.define(function(e,t,n){0===e.originalLength?(this.originalStartLineNumber=0,this.originalStartColumn=0,this.originalEndLineNumber=0,this.originalEndColumn=0):(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart),this.originalStartColumn=t.getStartColumn(e.originalStart),this.originalEndLineNumber=t.getEndLineNumber(e.originalStart+e.originalLength-1),this.originalEndColumn=t.getEndColumn(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(this.modifiedStartLineNumber=0,this.modifiedStartColumn=0,this.modifiedEndLineNumber=0,this.modifiedEndColumn=0):(this.modifiedStartLineNumber=n.getStartLineNumber(e.modifiedStart),this.modifiedStartColumn=n.getStartColumn(e.modifiedStart),this.modifiedEndLineNumber=n.getEndLineNumber(e.modifiedStart+e.modifiedLength-1),this.modifiedEndColumn=n.getEndColumn(e.modifiedStart+e.modifiedLength-1))}),l=e.Class.define(function(e,t,i,o,s){if(0===e.originalLength?(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart)-1,this.originalEndLineNumber=0):(this.originalStartLineNumber=t.getStartLineNumber(e.originalStart),this.originalEndLineNumber=t.getEndLineNumber(e.originalStart+e.originalLength-1)),0===e.modifiedLength?(this.modifiedStartLineNumber=i.getStartLineNumber(e.modifiedStart)-1,this.modifiedEndLineNumber=0):(this.modifiedStartLineNumber=i.getStartLineNumber(e.modifiedStart),this.modifiedEndLineNumber=i.getEndLineNumber(e.modifiedStart+e.modifiedLength-1)),0!==e.originalLength&&0!==e.modifiedLength&&o()){var a=t.getCharSequence(e.originalStart,e.originalStart+e.originalLength-1),l=i.getCharSequence(e.modifiedStart,e.modifiedStart+e.modifiedLength-1),d=new r(a,l,o),c=d.ComputeDiff();s&&(c=n(c)),this.charChanges=[];for(var h=0,p=c.length;p>h;h++)this.charChanges.push(new u(c[h],a,l))}}),d=e.Class.define(function(e,t,n,o){this.shouldPostProcessCharChanges=n||!1,this.shouldIgnoreTrimWhitespace=o||!1,this.maximumRunTimeMs=i,this.original=new a(e,this.shouldIgnoreTrimWhitespace),this.modified=new a(t,this.shouldIgnoreTrimWhitespace)},{computeDiff:function(){this.computationStartTime=(new Date).getTime();for(var e=new r(this.original,this.modified,this._continueProcessingPredicate.bind(this)),t=e.ComputeDiff(),n=[],i=0,o=t.length;o>i;i++)n.push(new l(t[i],this.original,this.modified,this._continueProcessingPredicate.bind(this),this.shouldPostProcessCharChanges));return n},_continueProcessingPredicate:function(){if(0===this.maximumRunTimeMs)return!0;var e=(new Date).getTime();return e-this.computationStartTime<this.maximumRunTimeMs}});return{DiffComputer:d}}),define("vs/base/filters",["require","exports"],function(e,t){"use strict";function n(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];return function(t,n){for(var i=0,o=e.length;o>i;i++){var r=e[i](t,n);if(r)return r}return null}}function i(){for(var e=[],t=0;t<arguments.length-0;t++)e[t]=arguments[t+0];return function(t,n){for(var i=[],o=0,r=e.length;r>o;o++){var s=e[o](t,n);if(!s)return null;i=i.concat(s)}return i}}function o(e,t,n){if(0===n.length||n.length<t.length)return null;e&&(t=t.toLowerCase(),n=n.toLowerCase());for(var i=0;i<t.length;i++)if(t[i]!==n[i])return null;return t.length>0?[{start:0,end:t.length}]:[]}function r(e,t){var n=t.toLowerCase().indexOf(e.toLowerCase());return-1===n?null:[{start:n,end:n+e.length}]}function s(e,t){return a(e.toLowerCase(),t.toLowerCase(),0,0)}function a(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]===t[i]){var o=null;if(o=a(e,t,n+1,i+1))return c({start:i,end:i+1},o)}return a(e,t,n,i+1)}function u(e,t){if(0===t.length)return null;for(var n=null,i=0;i<t.length&&null===(n=p(e.toLowerCase(),t,0,i));)i=h(t,i+1);return n}function l(e){var t=e.charCodeAt(0);return t>=65&&90>=t}function d(e){var t=e.charCodeAt(0);return t>=48&&57>=t}function c(e,t){return 0===t.length?t=[e]:e.end===t[0].start?t[0].start=e.start:t.unshift(e),t}function h(e,t){for(var n=t;n<e.length;n++){var i=e[n];if(l(i)||d(i))return n}return e.length}function p(e,t,n,i){if(n===e.length)return[];if(i===t.length)return null;if(e[n]!==t[i].toLowerCase())return null;var o=null,r=i+1;for(o=p(e,t,n+1,i+1);!o&&(r=h(t,r))<t.length;)o=p(e,t,n+1,r),r++;return null===o?null:c({start:i,end:i+1},o)}t.or=n,t.and=i,t.matchesStrictPrefix=function(e,t){return o(!1,e,t)},t.matchesPrefix=function(e,t){return o(!0,e,t)},t.matchesContiguousSubString=r,t.matchesSubString=s,t.matchesCamelCase=u}),define("vs/editor/modes/modesFilters",["require","exports","vs/base/filters"],function(e,t,n){"use strict";function i(e){return function(t,n){var i=e(t,n.label);return n.highlights=i||[],!!i}}function o(e,t){return function(n,i){return e(n,i)||t(n,i)}}function r(e,t){return function(n,i){return e(n,i)&&t(n,i)
}}function s(e){var t={};return function(n,i){var o=e(i);return t[o]?!1:(t[o]=!0,!0)}}var a=n;t.StrictPrefix=i(a.matchesStrictPrefix),t.Prefix=i(a.matchesPrefix),t.CamelCase=i(a.matchesCamelCase),t.ContiguousSubString=i(a.matchesContiguousSubString),t.or=o,t.and=r,t.newDuplicateFilter=s,t.DefaultFilter=t.or(t.or(t.Prefix,t.CamelCase),t.ContiguousSubString)}),define("vs/editor/core/config",["require","exports","vs/base/env","vs/editor/core/constants"],function(e,t,n,i){"use strict";function o(e,t){return r.browser.isMacintosh?{shift:e,alt:!0,key:t}:{ctrlCmd:!0,shift:e,key:t}}var r=n,s=i,a=function(){function e(){this.editor={lineHeight:20,lineNumbers:!0,selectOnLineNumbers:!0,lineNumbersMinChars:5,glyphMargin:!1,tabSize:4,insertSpaces:!1,roundedSelection:!0,theme:"vs",pageSize:1,readOnly:!1,scrollbar:{vertical:"auto",horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1},scrollBeyondLastLine:!0,automaticLayout:!1,wrappingColumn:300,wordWrapBreakBeforeCharacters:"{([+",wordWrapBreakAfterCharacters:" 	})]?|&,;",wordWrapBreakObtrusiveCharacters:".",tabFocusMode:!1,stopLineTokenizationAfter:1e3,stopRenderingLineAfter:1e4,longLineBoundary:300,isDominatedByLongLines:!1,hover:!0,quickSuggestions:!0,quickSuggestionsDelay:500,iconsInSuggestions:!0,autoClosingBrackets:!0,formatOnType:!1,suggestOnTriggerCharacters:!0,gotoDefinitionWithMouse:!0},this.keyBindings={}}return e.prototype.addKeyBinding=function(e,t){this.keyBindings[e]=this.keyBindings[e]||[],this.keyBindings[e].push(t)},e}();t.ConfigClass=a,t.Config=new a,t.Config.addKeyBinding(s.Handler.CursorLeft,{key:"LeftArrow"}),t.Config.addKeyBinding(s.Handler.CursorLeftSelect,{shift:!0,key:"LeftArrow"}),t.Config.addKeyBinding(s.Handler.CursorRight,{key:"RightArrow"}),t.Config.addKeyBinding(s.Handler.CursorRightSelect,{shift:!0,key:"RightArrow"}),t.Config.addKeyBinding(s.Handler.CursorUp,{key:"UpArrow"}),t.Config.addKeyBinding(s.Handler.CursorUpSelect,{shift:!0,key:"UpArrow"}),t.Config.addKeyBinding(s.Handler.CursorDown,{key:"DownArrow"}),t.Config.addKeyBinding(s.Handler.CursorDownSelect,{shift:!0,key:"DownArrow"}),t.Config.addKeyBinding(s.Handler.CursorPageUp,{key:"PageUp"}),t.Config.addKeyBinding(s.Handler.CursorPageUpSelect,{shift:!0,key:"PageUp"}),t.Config.addKeyBinding(s.Handler.CursorPageDown,{key:"PageDown"}),t.Config.addKeyBinding(s.Handler.CursorPageDownSelect,{shift:!0,key:"PageDown"}),t.Config.addKeyBinding(s.Handler.CursorHome,{key:"Home"}),t.Config.addKeyBinding(s.Handler.CursorHomeSelect,{shift:!0,key:"Home"}),t.Config.addKeyBinding(s.Handler.CursorEnd,{key:"End"}),t.Config.addKeyBinding(s.Handler.CursorEndSelect,{shift:!0,key:"End"}),t.Config.addKeyBinding(s.Handler.Tab,{key:"Tab"}),t.Config.addKeyBinding(s.Handler.Outdent,{shift:!0,key:"Tab"}),t.Config.addKeyBinding(s.Handler.DeleteLeft,{key:"Backspace"}),t.Config.addKeyBinding(s.Handler.DeleteLeft,{shift:!0,key:"Backspace"}),t.Config.addKeyBinding(s.Handler.DeleteRight,{key:"Delete"}),t.Config.addKeyBinding(s.Handler.DeleteRight,{shift:!0,key:"Delete"}),t.Config.addKeyBinding(s.Handler.Indent,{ctrlCmd:!0,key:"]"}),t.Config.addKeyBinding(s.Handler.Outdent,{ctrlCmd:!0,key:"["}),t.Config.addKeyBinding(s.Handler.SelectAll,{ctrlCmd:!0,key:"A"}),t.Config.addKeyBinding(s.Handler.Escape,{key:"Escape"}),t.Config.addKeyBinding(s.Handler.LineInsertBefore,{ctrlCmd:!0,shift:!0,key:"Enter"}),t.Config.addKeyBinding(s.Handler.LineInsertAfter,{ctrlCmd:!0,key:"Enter"}),t.Config.addKeyBinding(s.Handler.AddCursorUp,{ctrlCmd:!0,alt:!0,key:"UpArrow"}),t.Config.addKeyBinding(s.Handler.AddCursorDown,{ctrlCmd:!0,alt:!0,key:"DownArrow"}),t.Config.addKeyBinding(s.Handler.CursorWordLeft,o(!1,"LeftArrow")),t.Config.addKeyBinding(s.Handler.CursorWordLeftSelect,o(!0,"LeftArrow")),t.Config.addKeyBinding(s.Handler.CursorWordRight,o(!1,"RightArrow")),t.Config.addKeyBinding(s.Handler.CursorWordRightSelect,o(!0,"RightArrow")),t.Config.addKeyBinding(s.Handler.CursorDownSelect,o(!0,"DownArrow")),t.Config.addKeyBinding(s.Handler.CursorUpSelect,o(!0,"UpArrow")),t.Config.addKeyBinding(s.Handler.DeleteWordLeft,o(!1,"Backspace")),t.Config.addKeyBinding(s.Handler.DeleteWordRight,o(!1,"Delete")),r.browser.isMacintosh?(t.Config.addKeyBinding(s.Handler.CursorTop,{ctrlCmd:!0,key:"UpArrow"}),t.Config.addKeyBinding(s.Handler.CursorTopSelect,{ctrlCmd:!0,shift:!0,key:"UpArrow"}),t.Config.addKeyBinding(s.Handler.CursorBottom,{ctrlCmd:!0,key:"DownArrow"}),t.Config.addKeyBinding(s.Handler.CursorBottomSelect,{ctrlCmd:!0,shift:!0,key:"DownArrow"}),r.browser.isOpera?(t.Config.addKeyBinding(s.Handler.Undo,{winCtrl:!0,key:"Z"}),t.Config.addKeyBinding(s.Handler.Redo,{winCtrl:!0,key:"Y"})):(t.Config.addKeyBinding(s.Handler.Undo,{ctrlCmd:!0,key:"Z"}),t.Config.addKeyBinding(s.Handler.Redo,{ctrlCmd:!0,shift:!0,key:"Z"})),t.Config.addKeyBinding(s.Handler.CursorHome,{ctrlCmd:!0,key:"LeftArrow"}),t.Config.addKeyBinding(s.Handler.CursorHomeSelect,{ctrlCmd:!0,shift:!0,key:"LeftArrow"}),t.Config.addKeyBinding(s.Handler.CursorEnd,{ctrlCmd:!0,key:"RightArrow"}),t.Config.addKeyBinding(s.Handler.CursorEndSelect,{ctrlCmd:!0,shift:!0,key:"RightArrow"}),t.Config.addKeyBinding(s.Handler.CursorHome,{winCtrl:!0,key:"A"}),t.Config.addKeyBinding(s.Handler.CursorLeft,{winCtrl:!0,key:"B"}),t.Config.addKeyBinding(s.Handler.DeleteRight,{winCtrl:!0,key:"D"}),t.Config.addKeyBinding(s.Handler.CursorEnd,{winCtrl:!0,key:"E"}),t.Config.addKeyBinding(s.Handler.CursorRight,{winCtrl:!0,key:"F"}),t.Config.addKeyBinding(s.Handler.DeleteLeft,{winCtrl:!0,key:"H"}),t.Config.addKeyBinding(s.Handler.DeleteAllRight,{winCtrl:!0,key:"K"}),t.Config.addKeyBinding(s.Handler.CursorDown,{winCtrl:!0,key:"N"}),t.Config.addKeyBinding(s.Handler.LineBreakInsert,{winCtrl:!0,key:"O"}),t.Config.addKeyBinding(s.Handler.CursorUp,{winCtrl:!0,key:"P"}),t.Config.addKeyBinding(s.Handler.CursorPageDown,{winCtrl:!0,key:"V"})):(t.Config.addKeyBinding(s.Handler.CursorTop,{ctrlCmd:!0,key:"Home"}),t.Config.addKeyBinding(s.Handler.CursorTopSelect,{ctrlCmd:!0,shift:!0,key:"Home"}),t.Config.addKeyBinding(s.Handler.CursorBottom,{ctrlCmd:!0,key:"End"}),t.Config.addKeyBinding(s.Handler.CursorBottomSelect,{ctrlCmd:!0,shift:!0,key:"End"}),t.Config.addKeyBinding(s.Handler.Undo,{ctrlCmd:!0,key:"Z"}),t.Config.addKeyBinding(s.Handler.Redo,{ctrlCmd:!0,key:"Y"}),t.Config.addKeyBinding(s.Handler.Redo,{ctrlCmd:!0,shift:!0,key:"Z"}))}),define("vs/editor/modes/modes",["require","exports","vs/base/types"],function(e,t,n){"use strict";function i(e){return null===e||"object"!=typeof e?!1:"string"!=typeof e.label||"string"!=typeof e.codeSnippet||"string"!=typeof e.type?!1:o.isUndefinedOrNull(e.highlights)||o.isArray(e.highlights)?o.isUndefinedOrNull(e.typeLabel)||"string"==typeof e.typeLabel?o.isUndefinedOrNull(e.documentationLabel)||"string"==typeof e.documentationLabel?!0:!1:!1:!1}var o=n;!function(e){e[e.None=0]="None",e[e.Open=1]="Open",e[e.Close=-1]="Close"}(t.Bracket||(t.Bracket={})),t.Bracket,t.isISuggestion=i,function(e){e[e.None=0]="None",e[e.Indent=1]="Indent",e[e.IndentOutdent=2]="IndentOutdent"}(t.IndentAction||(t.IndentAction={})),t.IndentAction}),define("vs/editor/core/position",["require","exports"],function(e,t){"use strict";function n(e){return e&&"number"==typeof e.lineNumber&&"number"==typeof e.column}t.isIPosition=n;var i=function(){function e(e,t){this.lineNumber=e,this.column=t}return e.prototype.equals=function(e){return!!e&&this.lineNumber===e.lineNumber&&this.column===e.column},e.prototype.isBefore=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<e.column},e.prototype.isBeforeOrEqual=function(e){return this.lineNumber<e.lineNumber?!0:e.lineNumber<this.lineNumber?!1:this.column<=e.column},e.prototype.clone=function(){return new e(this.lineNumber,this.column)},e.prototype.toString=function(){return"("+this.lineNumber+","+this.column+")"},e}();t.Position=i}),define("vs/editor/core/range",["require","exports","vs/editor/core/position"],function(e,t,n){"use strict";function i(e){return e&&"number"==typeof e.startLineNumber&&"number"==typeof e.startColumn&&"number"==typeof e.endLineNumber&&"number"==typeof e.endColumn}function o(e){return new a(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn)}var r=n;t.isIRange=i;var s=function(){function e(){}return e.isEmpty=function(e){return e.startLineNumber===e.endLineNumber&&e.startColumn===e.endColumn},e.containsPosition=function(e,t){return t.lineNumber<e.startLineNumber||t.lineNumber>e.endLineNumber?!1:t.lineNumber===e.startLineNumber&&t.column<e.startColumn?!1:t.lineNumber===e.endLineNumber&&t.column>e.endColumn?!1:!0},e.containsRange=function(e,t){return t.startLineNumber<e.startLineNumber||t.endLineNumber<e.startLineNumber?!1:t.startLineNumber>e.endLineNumber||t.endLineNumber>e.endLineNumber?!1:t.startLineNumber===e.startLineNumber&&t.startColumn<e.startColumn?!1:t.endLineNumber===e.endLineNumber&&t.endColumn>e.endColumn?!1:!0},e.intersectRanges=function(e,t){var n=e.startLineNumber,i=e.startColumn,o=e.endLineNumber,r=e.endColumn,s=t.startLineNumber,u=t.startColumn,l=t.endLineNumber,d=t.endColumn;return s>n?(n=s,i=u):n===s&&(i=Math.max(i,u)),o>l?(o=l,r=d):o===l&&(r=Math.min(r,d)),n>o?null:n===o&&i>r?null:new a(n,i,o,r)},e.plusRange=function(e,t){var n,i,o,r;return t.startLineNumber<e.startLineNumber?(n=t.startLineNumber,i=t.startColumn):t.startLineNumber===e.startLineNumber?(n=t.startLineNumber,i=Math.min(t.startColumn,e.startColumn)):(n=e.startLineNumber,i=e.startColumn),t.endLineNumber>e.endLineNumber?(o=t.endLineNumber,r=t.endColumn):t.endLineNumber===e.endLineNumber?(o=t.endLineNumber,r=Math.max(t.endColumn,e.endColumn)):(o=e.endLineNumber,r=e.endColumn),new a(n,i,o,r)},e.equalsRange=function(e,t){return!!e&&!!t&&e.startLineNumber===t.startLineNumber&&e.startColumn===t.startColumn&&e.endLineNumber===t.endLineNumber&&e.endColumn===t.endColumn},e.compareRangesUsingStarts=function(e,t){return e.startLineNumber===t.startLineNumber?e.startColumn===t.startColumn?e.endLineNumber===t.endLineNumber?e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber:e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber},e.compareRangesUsingEnds=function(e,t){return e.endLineNumber===t.endLineNumber?e.endColumn===t.endColumn?e.startLineNumber===t.startLineNumber?e.startColumn-t.startColumn:e.startLineNumber-t.startLineNumber:e.endColumn-t.endColumn:e.endLineNumber-t.endLineNumber},e}();t.RangeUtils=s;var a=function(){function e(e,t,n,i){e>n||e===n&&t>i?(this.startLineNumber=n,this.startColumn=i,this.endLineNumber=e,this.endColumn=t):(this.startLineNumber=e,this.startColumn=t,this.endLineNumber=n,this.endColumn=i)}return e.prototype.isEmpty=function(){return s.isEmpty(this)},e.prototype.containsPosition=function(e){return s.containsPosition(this,e)},e.prototype.containsRange=function(e){return s.containsRange(this,e)},e.prototype.plusRange=function(e){return s.plusRange(this,e)},e.prototype.equalsRange=function(e){return s.equalsRange(this,e)},e.prototype.getEndPosition=function(){return new r.Position(this.endLineNumber,this.endColumn)},e.prototype.getStartPosition=function(){return new r.Position(this.startLineNumber,this.startColumn)},e.prototype.cloneRange=function(){return new e(this.startLineNumber,this.startColumn,this.endLineNumber,this.endColumn)},e.prototype.toString=function(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"},e.prototype.setEndPosition=function(t,n){return new e(this.startLineNumber,this.startColumn,t,n)},e.prototype.setStartPosition=function(t,n){return new e(t,n,this.endLineNumber,this.endColumn)},e}();t.Range=a,t.create=o}),define("vs/editor/core/model/trackedRanges",["require","exports","vs/editor/core/range"],function(e,t,n){"use strict";var i=n,o=function(){function e(e){this.model=e,this.lastRangeId=0,this.ranges={},this.markerIdToRangeId={},this.multiLineTrackedRanges={}}return e.prototype.clear=function(){this.ranges={},this.markerIdToRangeId={},this.multiLineTrackedRanges={}},e.prototype._setRangeIsMultiLine=function(e,t){var n=this.multiLineTrackedRanges.hasOwnProperty(e);!n&&t?this.multiLineTrackedRanges[e]=!0:n&&!t&&delete this.multiLineTrackedRanges[e]},e.prototype.add=function(e){e=this.model.validateRange(e);var t=this.model._addMarker(e.startLineNumber-1,e.startColumn,"start"),n=this.model._addMarker(e.endLineNumber-1,e.endColumn,"end"),i={id:(++this.lastRangeId).toString(),startMarkerId:t,endMarkerId:n};return this.ranges[i.id]=i,this.markerIdToRangeId[t]=i.id,this.markerIdToRangeId[n]=i.id,this._setRangeIsMultiLine(i.id,e.startLineNumber!==e.endLineNumber),i.id},e.prototype.change=function(e,t){if(this.ranges.hasOwnProperty(e)){t=this.model.validateRange(t);var n=this.ranges[e];this.model._changeMarker(n.startMarkerId,t.startLineNumber-1,t.startColumn),this.model._changeMarker(n.endMarkerId,t.endLineNumber-1,t.endColumn),this._setRangeIsMultiLine(n.id,t.startLineNumber!==t.endLineNumber)}},e.prototype.remove=function(e){if(this.ranges.hasOwnProperty(e)){var t=this.ranges[e];this.model._removeMarker(t.startMarkerId),this.model._removeMarker(t.endMarkerId),this._setRangeIsMultiLine(t.id,!1),delete this.ranges[t.id],delete this.markerIdToRangeId[t.startMarkerId],delete this.markerIdToRangeId[t.endMarkerId]}},e.prototype.onChangedMarkers=function(e){var t,n,i,o,r={};for(var s in e)e.hasOwnProperty(s.toString())&&this.markerIdToRangeId.hasOwnProperty(s.toString())&&(o=e[s],i=this.markerIdToRangeId[s],n=this.ranges[i],r.hasOwnProperty(n.id)?t=r[n.id]:(t={startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0},r[n.id]=t),o.id===n.startMarkerId?(t.startLineNumber=o.oldLineIndex+1,t.startColumn=o.oldColumn):(t.endLineNumber=o.oldLineIndex+1,t.endColumn=o.oldColumn),this._setRangeIsMultiLine(n.id,this.model._getMarkerLineNumber(n.startMarkerId)!==this.model._getMarkerLineNumber(n.endMarkerId)));return r},e.prototype._getMultiLineTrackedRanges=function(e,t){var n,i,o,r,s,a,u={};for(n in this.multiLineTrackedRanges)if(this.multiLineTrackedRanges.hasOwnProperty(n)){if(i=this.ranges[n],o=this.model._getMarkerLineNumber(i.startMarkerId),o>t)continue;if(s=this.model._getMarkerLineNumber(i.endMarkerId),e>s)continue;r=this.model._getMarkerColumn(o,i.startMarkerId),a=this.model._getMarkerColumn(s,i.endMarkerId),u[i.id]={startLineNumber:o,startColumn:r,endLineNumber:s,endColumn:a}}return u},e.prototype.getLinesTrackedRanges=function(e,t){var n,i,o,r,s,a,u=this._getMultiLineTrackedRanges(e,t);for(a=e;t>=a;a++)for(n=this.model._getLineMarkers(a),r=0,s=n.length;s>r;r++)i=n[r],this.markerIdToRangeId.hasOwnProperty(i.id)&&(o=this.markerIdToRangeId[i.id],this.ranges[o].startMarkerId===i.id?u.hasOwnProperty(o)?u[o].startColumn=i.column:u[o]={startLineNumber:a,startColumn:i.column,endLineNumber:a,endColumn:-1}:u.hasOwnProperty(o)?u[o].endColumn=i.column:u[o]={startLineNumber:a,startColumn:-1,endLineNumber:a,endColumn:i.column});return u},e.prototype.getStartLineNumber=function(e){return this.model._getMarkerLineNumber(this.ranges[e].startMarkerId)},e.prototype.getEndLineNumber=function(e){return this.model._getMarkerLineNumber(this.ranges[e].endMarkerId)},e.prototype.getRange=function(e){var t=this.ranges[e],n=this.model._getMarker(t.startMarkerId),o=this.model._getMarker(t.endMarkerId);return new i.Range(n.lineNumber,n.column,o.lineNumber,o.column)},e}();t.TrackedRanges=o}),define("vs/editor/core/model/modelDecorations",["require","exports"],function(e,t){"use strict";var n=function(){function e(e,t){this.model=e,this.trackedRanges=t,this.lastDecorationId=0,this.decorations={},this.rangeIdToDecorationId={}}return e.prototype.clear=function(){this.decorations={},this.rangeIdToDecorationId={}},e.prototype.change=function(e,t,n){var i=this,o={addDecoration:function(n,o){return i._add(e,t,n,o)},changeDecoration:function(t,n){i._change(e,t,n)},changeDecorationOptions:function(t,n){i._changeOptions(e,t,n)},removeDecoration:function(t){i._remove(e,t)},deltaDecorations:function(n,o){return i._delta(e,t,n,o)}},r=n(o);return o.addDecoration=null,o.changeDecoration=null,o.removeDecoration=null,o.deltaDecorations=null,r},e.prototype.getAll=function(e){var t,n,i=[];for(t in this.decorations)if(this.decorations.hasOwnProperty(t)){if(n=this.decorations[t],e&&n.ownerId&&n.ownerId!==e)continue;i.push({id:n.id,ownerId:n.ownerId,range:this.trackedRanges.getRange(n.rangeId),options:n.options})}return i},e.prototype.getLineDecorations=function(e,t){return this.getLinesDecorations(e,e,t)},e.prototype.getLinesDecorations=function(e,t,n){var i,o,r=[],s=this.trackedRanges.getLinesTrackedRanges(e,t);for(o in s)if(s.hasOwnProperty(o)&&this.rangeIdToDecorationId.hasOwnProperty(o)){if(i=this.decorations[this.rangeIdToDecorationId[o]],n&&i.ownerId&&i.ownerId!==n)continue;r.push({id:i.id,ownerId:i.ownerId,range:s[o],options:i.options})}return r},e.prototype.getOptions=function(e){return this.decorations.hasOwnProperty(e)?this.decorations[e].options:null},e.prototype.getRange=function(e){if(this.decorations.hasOwnProperty(e)){var t=this.decorations[e];return this.trackedRanges.getRange(t.rangeId)}return null},e.prototype.removeAllDecorationsWithOwnerId=function(e){var t,n,i=[];for(t in this.decorations)this.decorations.hasOwnProperty(t)&&(n=this.decorations[t],n.ownerId===e&&i.push(n.id));for(var o=0;o<i.length;o++)this._remove(null,i[o])},e.cleanClassName=function(e){return e.replace(/[^a-z0-9\-]/gi," ")},e.prototype._normalizeOptions=function(t){return{className:e.cleanClassName(t.className||""),hoverMessage:t.hoverMessage||"",htmlMessage:t.htmlMessage||[],isWholeLine:t.isWholeLine||!1,showInOverviewRuler:t.showInOverviewRuler||"",glyphMarginClassName:e.cleanClassName(t.glyphMarginClassName||""),linesDecorationsClassName:e.cleanClassName(t.linesDecorationsClassName||""),inlineClassName:e.cleanClassName(t.inlineClassName||"")}},e.prototype._add=function(e,t,n,i){var o=this.trackedRanges.add(n);i=this._normalizeOptions(i);var r={ownerId:t,id:(++this.lastDecorationId).toString(),rangeId:o,options:i};return this.decorations[r.id]=r,this.rangeIdToDecorationId[o]=r.id,e.addNewDecoration(r.id),r.id},e.prototype._change=function(e,t,n){if(this.decorations.hasOwnProperty(t)){var i=this.decorations[t],o=this.trackedRanges.getRange(i.rangeId);this.trackedRanges.change(i.rangeId,n),e.addMovedDecoration(t,o)}},e.prototype._changeOptions=function(e,t,n){if(n=this._normalizeOptions(n),this.decorations.hasOwnProperty(t)){var i=this.decorations[t],o=i.options;i.options=n,e.addUpdatedDecoration(t,o)}},e.prototype._remove=function(e,t){if(this.decorations.hasOwnProperty(t)){var n=this.decorations[t],i=null;e&&(i=this.trackedRanges.getRange(n.rangeId)),this.trackedRanges.remove(n.rangeId),delete this.rangeIdToDecorationId[n.rangeId],delete this.decorations[t],e&&e.addRemovedDecoration(t,n.ownerId,i,n.options)}},e.prototype._hashHTMLContent=function(e){var t=this,n=[e.tagName,e.text,e.className];return e.children&&e.children.forEach(function(e,i){n.push("child"+i+"-"+t._hashHTMLContent(e))}),n.join("-")},e.prototype._decorationHash=function(e,t){var n=this,i=[e.startLineNumber.toString(),e.startColumn.toString(),e.endLineNumber.toString(),e.endColumn.toString(),t.className,t.hoverMessage,t.htmlMessage.reduce(function(e,t){return e+n._hashHTMLContent(t)},""),t.isWholeLine+"",t.showInOverviewRuler,t.glyphMarginClassName,t.linesDecorationsClassName,t.inlineClassName];return i.join("-")},e.prototype._delta=function(e,t,n,i){var o,r,s=[],a=[];for(o=0,r=i.length;r>o;o++)s[o]=this._normalizeOptions(i[o].options),a[o]=this.model.validateRange(i[o].range);return this._deltaImpl(e,t,n,r,a,s)},e.prototype._deltaImpl=function(e,t,n,i,o,r){var s,a,u,l,d={};for(s=0,a=n.length;a>s;s++)this.decorations.hasOwnProperty(n[s])&&(l=this.decorations[n[s]],u=this._decorationHash(this.trackedRanges.getRange(l.rangeId),l.options),d[u]=d[u]||[],d[u].push(n[s]));var c,h,p,f,g=[],m={};for(s=0;i>s;s++){if(u=this._decorationHash(o[s],r[s]),f=!1,d.hasOwnProperty(u))for(p=d[u],c=0,h=p.length;h>c;c++)if(!m.hasOwnProperty(p[c])){f=!0,m[p[c]]=!0,g.push(p[c]);break}f||g.push(this._add(e,t,o[s],r[s]))}for(s=0,a=n.length;a>s;s++)m.hasOwnProperty(n[s])||this._remove(e,n[s]);return g},e.prototype.onChangedRanges=function(e,t){var n,i;for(n in t)t.hasOwnProperty(n)&&this.rangeIdToDecorationId.hasOwnProperty(n)&&(i=this.rangeIdToDecorationId[n],e.addMovedDecoration(i,t[n]))},e.prototype.getDecorationData=function(e){var t=this.decorations[e];return{id:t.id,ownerId:t.ownerId,range:this.trackedRanges.getRange(t.rangeId),isForValidation:!1,options:t.options}},e}();t.ModelDecorations=n}),define("vs/editor/core/model/tokenIterator",["require","exports"],function(e,t){"use strict";var n=function(){function e(e,t){this._model=e,this._currentLineNumber=t.lineNumber,this._currentTokenIndex=0,this._currentLineTokens=this._model.getInternalTokens(this._currentLineNumber),this._next=null,this._prev=null;for(var n=t.column-1,i=Number.MAX_VALUE,o=this._currentLineTokens.length-1;o>=0;o--){if(this._currentLineTokens[o].startIndex<=n&&i>=n){this._currentTokenIndex=o,this._next=this._current(),this._prev=this._current();break}i=this._currentLineTokens[o].startIndex}}return e.prototype._advanceNext=function(){if(this._prev=this._next,this._next=null,this._currentTokenIndex+1<this._currentLineTokens.length)this._currentTokenIndex++,this._next=this._current();else{for(;this._currentLineNumber+1<=this._model.getLineCount();)if(this._currentLineNumber++,this._currentLineTokens=this._model.getInternalTokens(this._currentLineNumber),this._currentLineTokens.length>0){this._currentTokenIndex=0,this._next=this._current();break}null===this._next&&(this._currentLineTokens=this._model.getInternalTokens(this._currentLineNumber),this._currentTokenIndex=this._currentLineTokens.length,this._advancePrev(),this._next=null)}},e.prototype._advancePrev=function(){if(this._next=this._prev,this._prev=null,this._currentTokenIndex>0)this._currentTokenIndex--,this._prev=this._current();else for(;this._currentLineNumber>1;)if(this._currentLineNumber--,this._currentLineTokens=this._model.getInternalTokens(this._currentLineNumber),this._currentLineTokens.length>0){this._currentTokenIndex=this._currentLineTokens.length-1,this._prev=this._current();break}},e.prototype._current=function(){return{token:this._currentLineTokens[this._currentTokenIndex],lineNumber:this._currentLineNumber,startColumn:this._currentLineTokens[this._currentTokenIndex].startIndex+1,endColumn:this._currentTokenIndex+1<this._currentLineTokens.length?this._currentLineTokens[this._currentTokenIndex+1].startIndex+1:this._model.getLineContent(this._currentLineNumber).length+1}},e.prototype.hasNext=function(){return null!==this._next},e.prototype.next=function(){var e=this._next;return this._advanceNext(),e},e.prototype.hasPrev=function(){return null!==this._prev},e.prototype.prev=function(){var e=this._prev;return this._advancePrev(),e},e.prototype._invalidate=function(){var e=function(){throw new Error("iteration isn't valid anymore")};this.hasNext=e,this.next=e,this.hasPrev=e,this.prev=e},e}();t.TokenIterator=n}),define("vs/editor/modes/nullMode",["require","exports","vs/editor/modes/modes"],function(e,t,n){"use strict";function i(e,t,n,i){"undefined"==typeof i&&(i=0);var r=[{startIndex:i,type:"",bracket:o.Bracket.None}],s=[{startIndex:i,mode:e}];return{tokens:r,actualStopOffset:i+t.length,endState:n,modeTransitions:s}}var o=n,r=function(){function e(e,t){this.mode=e,this.stateData=t}return e.prototype.clone=function(){var t=this.stateData?this.stateData.clone():null;return new e(this.mode,t)},e.prototype.equals=function(e){if(this.mode!==e.getMode())return!1;var t=e.getStateData();return this.stateData||t?this.stateData&&t?this.stateData.equals(t):!1:!0},e.prototype.getMode=function(){return this.mode},e.prototype.tokenize=function(e){return e.advanceToEOS(),{type:""}},e.prototype.getStateData=function(){return this.stateData},e.prototype.setStateData=function(e){this.stateData=e},e}();t.NullState=r;var s=function(){function e(){this.tokenTypeClassificationSupport=this}return e.prototype.getId=function(){return"vs.editor.modes.nullMode"},e.prototype.bindModel=function(){},e.prototype.unbindModel=function(){},e.prototype.getNonWordTokenTypes=function(){return[]},e.prototype.getWordDefinition=function(){return e.DEFAULT_WORD_REGEXP},e.DEFAULT_WORD_REGEXP=/(-?\d*\.\d\w*)|(\w+)/g,e}();t.NullMode=s,t.nullTokenize=i}),define("vs/editor/core/model/modelEditOperation",["require","exports","vs/editor/core/range"],function(e,t,n){"use strict";var i=n,o=function(){function e(){}return e.execute=function(t,n){var i=t.change(function(i){return e._apply(t,i,n.operations)});return{operations:i}},e._apply=function(t,n,i){i.sort(e._compareOperations);for(var o=1;o<i.length;o++)if(i[o-1].range.getStartPosition().isBeforeOrEqual(i[o].range.getEndPosition()))throw new Error("Overlapping ranges are not allowed!");var r=t.getEditableRange(),s=r.getStartPosition(),a=r.getEndPosition();for(o=0;o<i.length;o++){var u=i[o].range;if(!s.isBeforeOrEqual(u.getStartPosition())||!u.getEndPosition().isBeforeOrEqual(a))throw new Error("Editing outside of editable range not allowed!")}var l=e._applyWithMarkers(t,n,i),d=e._squashMarkers(t,l);for(d.sort(e._compareOperations),o=1;o<d.length;o++)if(d[o-1].range.getStartPosition().isBeforeOrEqual(d[o].range.getEndPosition()))throw new Error("Inverse edit operations: Overlapping ranges are not allowed!");return d},e._squashMarkers=function(e,t){var n,o,r,s,a,u,l,d,c=[];for(n=0,o=t.length;o>n;n++)d=t[n].identifier,a=t[n].text,r=t[n].selectionStartMarkerId,s=t[n].positionMarkerId,u=e._getMarker(r),l=e._getMarker(s),c.push({identifier:d,range:new i.Range(u.lineNumber,u.column,l.lineNumber,l.column),text:a}),e._removeMarker(r),e._removeMarker(s);return c},e._applyWithMarkers=function(e,t,n){var i,o,r,s,a,u,l,d,c,h,p=[];for(i=0,o=n.length;o>i;i++)h=n[i].identifier,s=n[i].range,r=n[i].text,s.isEmpty()&&!r?(c={startLineNumber:1,startColumn:1,endLineNumber:1,endColumn:1},d=""):(s.isEmpty()?(d="",a={lineNumber:s.startLineNumber,column:s.startColumn}):(l=t.deleteText(s),d=l.deletedText,a=l.position),r?(u=t.insertText(a,r),c={startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:u.lineNumber,endColumn:u.column}):c={startLineNumber:a.lineNumber,startColumn:a.column,endLineNumber:a.lineNumber,endColumn:a.column}),p.push({identifier:h,text:d,selectionStartMarkerId:e._addMarker(c.startLineNumber-1,c.startColumn,"start"),positionMarkerId:e._addMarker(c.endLineNumber-1,c.endColumn,"end")});return p},e._compareOperations=function(e,t){return-i.RangeUtils.compareRangesUsingEnds(e.range,t.range)},e}();t.ModelEditOperation=o}),define("vs/editor/core/model/editStack",["require","exports","vs/editor/core/model/modelEditOperation"],function(e,t,n){"use strict";var i=n,o=function(){function e(e){this.model=e,this.currentOpenStackElement=null,this.past=[],this.future=[]}return e.prototype.pushStackElement=function(){null!==this.currentOpenStackElement&&(this.past.push(this.currentOpenStackElement),this.currentOpenStackElement=null)},e.prototype.clear=function(){this.currentOpenStackElement=null,this.past=[],this.future=[]},e.prototype.pushEditOperation=function(e,t,n){this.future=[],this.currentOpenStackElement||(this.currentOpenStackElement={beforeCursorState:e,editOperations:[],afterCursorState:null});var o=i.ModelEditOperation.execute(this.model,{operations:t});return this.currentOpenStackElement.editOperations.push(o),this.currentOpenStackElement.afterCursorState=n?n(o.operations):null,this.currentOpenStackElement.afterCursorState},e.prototype.undo=function(){if(this.pushStackElement(),this.past.length>0){for(var e=this.past.pop(),t=e.editOperations.length-1;t>=0;t--)e.editOperations[t]=i.ModelEditOperation.execute(this.model,e.editOperations[t]);return this.future.push(e),e.beforeCursorState}return null},e.prototype.redo=function(){if(this.future.length>0){if(this.currentOpenStackElement)throw new Error("How is this possible?");for(var e=this.future.pop(),t=0;t<e.editOperations.length;t++)e.editOperations[t]=i.ModelEditOperation.execute(this.model,e.editOperations[t]);return this.past.push(e),e.afterCursorState}return null},e}();t.EditStack=o}),define("vs/editor/editor",["require","exports"],function(e,t){"use strict";!function(e){e[e.LTR=0]="LTR",e[e.RTL=1]="RTL"}(t.SelectionDirection||(t.SelectionDirection={})),t.SelectionDirection,function(e){e[e.TextDefined=0]="TextDefined",e[e.LF=1]="LF",e[e.CRLF=2]="CRLF"}(t.EndOfLinePreference||(t.EndOfLinePreference={})),t.EndOfLinePreference,function(e){e[e.EXACT=0]="EXACT",e[e.ABOVE=1]="ABOVE",e[e.BELOW=2]="BELOW"}(t.ContentWidgetPositionPreference||(t.ContentWidgetPositionPreference={})),t.ContentWidgetPositionPreference,function(e){e[e.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER"}(t.OverlayWidgetPositionPreference||(t.OverlayWidgetPositionPreference={})),t.OverlayWidgetPositionPreference,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.TEXTAREA=1]="TEXTAREA",e[e.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",e[e.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",e[e.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",e[e.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",e[e.CONTENT_TEXT=6]="CONTENT_TEXT",e[e.CONTENT_EMPTY=7]="CONTENT_EMPTY",e[e.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",e[e.CONTENT_WIDGET=9]="CONTENT_WIDGET",e[e.OVERVIEW_RULER=10]="OVERVIEW_RULER",e[e.SCROLLBAR=11]="SCROLLBAR",e[e.OVERLAY_WIDGET=12]="OVERLAY_WIDGET"}(t.MouseTargetType||(t.MouseTargetType={})),t.MouseTargetType}),define("vs/base/arrays",["require","exports"],function(e,t){"use strict";function n(e,t){return"undefined"==typeof t&&(t=0),e[e.length-(1+t)]}function i(e,t,n){for(var i=0,o=e.length-1;o>=i;){var r=Math.floor((i+o)/2),s=n(e[r],t);if(0>s)i=r+1;else{if(!(s>0))return r;o=r-1}}return-1}function o(e){for(var t=[],n=0,i=e.length;i>n;n++)t.push.apply(t,e[n]);return t}function r(e,t){for(var n,i=0,o=e.length-1;o>i;)n=i+Math.ceil((o-i)/2),e[n].startIndex>t?o=n-1:i=n;return i}function s(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&t.push(i)}return t}t.tail=n,t.binarySearch=i,t.merge=o,t.findIndexInSegmentsArray=r,t.coalesce=s});var __extends=this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n};define("vs/editor/core/model/model",["require","exports","vs/nls!vs/editor/worker/editorWorkerServer","vs/editor/core/config","vs/editor/modes/modes","vs/base/strings","vs/base/objects","vs/base/network","vs/editor/core/constants","vs/base/eventEmitter","vs/editor/core/position","vs/editor/core/range","./trackedRanges","./modelDecorations","./tokenIterator","vs/platform/markers/markers","vs/editor/modes/nullMode","vs/editor/core/model/editStack","vs/editor/editor","vs/base/errors","vs/base/arrays"],function(e,t,n,i,o,r,s,a,u,l,d,c,h,p,f,g,m,v,y,b,C){"use strict";var _=n,E=i,w=o,S=r,L=s,T=a,N=u,x=l,M=d,I=c,k=h,R=p,D=f,P=g,O=m,A=v,H=y,W=b,V=C,F=0,U=1e3,B=65279,z="\r".charCodeAt(0),q="\n".charCodeAt(0),j=function(){function e(e,t){"undefined"==typeof t&&(t=[]),this.text=e,this.state=null,this.tokens=null,this.lineTokens=null,this.modeTransitions=null,this.isInvalid=!1,this.markers=t}return e.prototype.getTokens=function(){return this.tokens},e.prototype.setTokens=function(e){this.tokens=e,this.lineTokens=new G(this.tokens,this.text.length)},e.prototype.getLineTokens=function(){return(!this.lineTokens||this.isInvalid)&&(this.lineTokens=new G([{startIndex:0,type:"",bracket:w.Bracket.None}],this.text.length)),this.lineTokens},e}(),G=function(){function e(e,t){this.tokens=e,this.textLength=t}return e.prototype.getTokens=function(){return this.tokens},e.prototype.getTextLength=function(){return this.textLength},e.prototype.equals=function(e){return this===e},e.prototype.findIndexOfOffset=function(e){return V.findIndexInSegmentsArray(this.tokens,e)},e}(),K=function(){function e(){this.oldDecorationRange={},this.oldDecorationOptions={},this.newOrChangedDecorations={},this.removedDecorations={}}return e.prototype.addNewDecoration=function(e){this.newOrChangedDecorations[e]=!0
},e.prototype.addRemovedDecoration=function(e,t,n,i){this.newOrChangedDecorations.hasOwnProperty(e)&&delete this.newOrChangedDecorations[e],this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=n),this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=i),this.removedDecorations[e]=!0},e.prototype.addMovedDecoration=function(e,t){this.oldDecorationRange.hasOwnProperty(e)||(this.oldDecorationRange[e]=t),this.newOrChangedDecorations[e]=!0},e.prototype.addUpdatedDecoration=function(e,t){this.oldDecorationOptions.hasOwnProperty(e)||(this.oldDecorationOptions[e]=t),this.newOrChangedDecorations[e]=!0},e}(),J=function(e){function t(n,i,o,r){"undefined"==typeof o&&(o=null),"undefined"==typeof r&&(r=null),e.call(this),this.stopLineTokenizationAfter=E.Config.editor.stopLineTokenizationAfter,this.markerService=r,F++,this.id="$model"+F,this._versionId=1,("undefined"==typeof o||null===o)&&(o=new T.URL("inMemory://localhost/vs/editor/core/model/"+F)),this.associatedResource=o,this.markerDecorationIds={},this.commandManager=new A.EditStack(this),this.lines=this._constructLines(n),this.linesLength=this.lines.length,this.mode=i?i:new O.NullMode,this.isUndoing=!1,this.isRedoing=!1;var s=null;if(this.mode.tokenizationSupport)try{s=this.mode.tokenizationSupport.getInitialState()}catch(a){W.onUnexpectedError(a,t.MODE_TOKENIZATION_FAILED_MSG),this.mode=new O.NullMode}s||(s=new O.NullState(this.mode,null)),this.lines[0].state=s,this.lastState=null,this.revalidateTokensTimeout=-1,this.modeTokenizationFailedTimeout=-1,this.invalidLineStartIndex=0,this.trackedRanges=new k.TrackedRanges(this),this.modelDecorations=new R.ModelDecorations(this,this.trackedRanges),this.lastMarkerId=0,this.markerIdToLineIndex={},this._hasEditableRange=!1,this._editableRangeId=null,this.workerBind(),this._beginBackgroundTokenization(),this.extraProperties={},this.addWordRegExpProperty(),this._executeWithDeferredEventsCnt=0,this._currentDeferredEventBuilder=null}return __extends(t,e),t.prototype.destroy=function(){this.emit(N.EventType.ModelDispose),this.workerUnbind(),-1!==this.revalidateTokensTimeout&&window.clearTimeout(this.revalidateTokensTimeout),-1!==this.modeTokenizationFailedTimeout&&window.clearTimeout(this.modeTokenizationFailedTimeout),this.lines=null,this.trackedRanges=null,this.modelDecorations=null,this.commandManager=null,e.prototype.dispose.call(this)},t.prototype.setStopLineTokenizationAfter=function(e){this.stopLineTokenizationAfter=e},t.prototype.setEditableRange=function(e){this.commandManager.clear(),this._hasEditableRange&&(this.removeTrackedRange(this._editableRangeId),this._editableRangeId=null,this._hasEditableRange=!1),e&&(this._hasEditableRange=!0,this._editableRangeId=this.addTrackedRange(e))},t.prototype.hasEditableRange=function(){return this._hasEditableRange},t.prototype.getFullModelRange=function(){var e=this.getLineCount();return new I.Range(1,1,e,this.getLineMaxColumn(e))},t.prototype.getEditableRange=function(){return this._hasEditableRange?this.getTrackedRange(this._editableRangeId):this.getFullModelRange()},t.prototype.workerBind=function(){this.mode.bindModel(this)},t.prototype.workerUnbind=function(){this.mode.unbindModel(this)},t.prototype.getVersionId=function(){return this._versionId},t.prototype.getAssociatedResource=function(){return this.associatedResource},t.prototype.setModeOrValue=function(e,n,i,o){if(n||o){n&&(this.lines=this._constructLines(e),this.linesLength=this.lines.length),o&&(this.workerUnbind(),this.mode=i),n&&(this.commandManager=new A.EditStack(this));var r=null;if(this.mode.tokenizationSupport)try{r=this.mode.tokenizationSupport.getInitialState()}catch(s){W.onUnexpectedError(s,t.MODE_TOKENIZATION_FAILED_MSG),o||this.workerUnbind(),this.mode=new O.NullMode,o=!0}r||(r=new O.NullState(this.mode,null)),this.lines[0].state=r,this.lastState=null,-1!==this.revalidateTokensTimeout&&(window.clearTimeout(this.revalidateTokensTimeout),this.revalidateTokensTimeout=-1),-1!==this.modeTokenizationFailedTimeout&&(window.clearTimeout(this.modeTokenizationFailedTimeout),this.modeTokenizationFailedTimeout=-1),this.invalidLineStartIndex=0,this.modelDecorations.clear(),this.trackedRanges.clear(),this.markerIdToLineIndex={},this._hasEditableRange=!1,this._editableRangeId=null,n&&this._versionId++,this.emitModelContentChangedFlushEvent(o),o&&this.workerBind(),this._beginBackgroundTokenization()}},t.prototype.setMode=function(e){this.setModeOrValue(null,!1,e,e&&e!==this.mode)},t.prototype.setValue=function(e,t){"undefined"==typeof t&&(t=null),this.setModeOrValue(e,!0,t,t&&t!==this.mode)},t.prototype.isDominatedByLongLines=function(e){var t,n,i,o=0,r=0,s=this.lines;for(t=0,n=this.linesLength;n>t;t++)i=s[t].text.length,i>=e?r+=i:o+=i;return r>o},t.prototype.addWordRegExpProperty=function(){var e=this.massageWordDefinitionOf(this.mode);this.setProperty("$WordDefinitionForMirrorModel",{source:e.source,flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")})},t.prototype.getEndOfLine=function(e){switch(e){case H.EndOfLinePreference.LF:return"\n";case H.EndOfLinePreference.CRLF:return"\r\n";case H.EndOfLinePreference.TextDefined:return this.getEOL()}throw new Error("Unknown EOL preference")},t.prototype.getValue=function(e,t){"undefined"==typeof t&&(t=!1);var n={startLineNumber:1,startColumn:1,endLineNumber:this.linesLength,endColumn:this.getLineMaxColumn(this.linesLength)};return t?this.BOM+this.getValueInRange(n,e):this.getValueInRange(n,e)},t.prototype.getValueInRange=function(e,t){"undefined"==typeof t&&(t=H.EndOfLinePreference.TextDefined);var n=this.validateRange(e);if(n.isEmpty())return"";if(n.startLineNumber===n.endLineNumber)return this.lines[n.startLineNumber-1].text.substring(n.startColumn-1,n.endColumn-1);var i,o,r=this.getEndOfLine(t),s=n.startLineNumber-1,a=n.endLineNumber-1,u=this.lines[s],l=this.lines[a],d=[];i=u.text.substring(n.startColumn-1,u.text.length);for(var c=s+1;a>c;c++)o=this.lines[c],d.push(i),i=o.text;return d.push(i),d.push(l.text.substring(0,n.endColumn-1)),d.join(r)},t.prototype.setProperty=function(e,t){this.extraProperties[e]=t,this.emitModelPropertiesChangedEvent()},t.prototype.getProperty=function(e){return this.extraProperties.hasOwnProperty(e)?this.extraProperties[e]:null},t.prototype.getProperties=function(){return L.clone(this.extraProperties)},t.prototype.getMode=function(){return this.mode},t.prototype.getLineCount=function(){return this.linesLength},t.prototype.getLineContent=function(e){return this.lines[e-1].text},t.prototype.getEOL=function(){return this.EOL},t.prototype.getLineMaxColumn=function(e){return this.lines[e-1].text.length+1},t.prototype.getLineFirstNonWhitespaceColumn=function(e){var t=S.firstNonWhitespaceIndex(this.lines[e-1].text);return-1===t?0:t+1},t.prototype.getLineLastNonWhitespaceColumn=function(e){var t=S.lastNonWhitespaceIndex(this.lines[e-1].text);return-1===t?0:t+2},t.prototype.lineIsTokenized=function(e){return this.invalidLineStartIndex>e-1},t.prototype.getLineTokens=function(e,t){return"undefined"==typeof t&&(t=!1),t||this._updateTokensUntilLine(e,!0),this.lines[e-1].getLineTokens()},t.prototype.getInternalTokens=function(e){return this._updateTokensUntilLine(e,!0),this.lines[e-1].getTokens().slice(0)},t.prototype.getRawLineTokens=function(e){return this._updateTokensUntilLine(e,!0),{tokens:this.lines[e-1].getTokens().slice(0),modeTransitions:this.lines[e-1].modeTransitions.slice(0),endState:e<this.linesLength?this.lines[e-1].state:this.lastState,actualStopOffset:0}},t.prototype.getLineModeTransitions=function(e){return this._updateTokensUntilLine(e,!0),this.lines[e-1].modeTransitions},t.prototype.getStateBeforeLine=function(e){return this._updateTokensUntilLine(e-1,!0),this.lines[e-1].state},t.prototype.getStateAfterLine=function(e){return this._updateTokensUntilLine(e,!0),e<this.linesLength?this.lines[e-1].state:this.lastState},t.prototype.getModeAtPosition=function(e,t){if(1===t)return this.getStateBeforeLine(e).getMode();if(t===this.getLineMaxColumn(e))return this.getStateAfterLine(e).getMode();var n=this.getLineModeTransitions(e),i=V.findIndexInSegmentsArray(n,t-1);return n[i].mode},t.prototype.pushStackElement=function(){this.commandManager.pushStackElement()},t.prototype.pushEditOperations=function(e,t,n){return this.commandManager.pushEditOperation(e,t,n)},t.prototype.undo=function(){this.isUndoing=!0;var e=this.commandManager.undo();return this.isUndoing=!1,e},t.prototype.redo=function(){this.isRedoing=!0;var e=this.commandManager.redo();return this.isRedoing=!1,e},t.prototype._emitEventsFromEventBuilder=function(e){var t,n,i,o=[],r=[],s=[];for(t in e.newOrChangedDecorations)e.newOrChangedDecorations.hasOwnProperty(t)&&(s.push(t),n=this.modelDecorations.getDecorationData(t),n.isForValidation=n.options.className===N.ClassName.EditorErrorDecoration||n.options.className===N.ClassName.EditorWarningDecoration,o.push(n),e.oldDecorationRange.hasOwnProperty(t)&&(i=e.oldDecorationRange[t],i.startLineNumber=i.startLineNumber||n.range.startLineNumber,i.startColumn=i.startColumn||n.range.startColumn,i.endLineNumber=i.endLineNumber||n.range.endLineNumber,i.endColumn=i.endColumn||n.range.endColumn));for(t in e.removedDecorations)e.removedDecorations.hasOwnProperty(t)&&(s.push(t),r.push(t));if(s.length>0){var a={ids:s,addedOrChangedDecorations:o,removedDecorations:r,oldOptions:e.oldDecorationOptions,oldRanges:e.oldDecorationRange};this.emitModelDecorationsChangedEvent(a)}},t.prototype._executeWithDeferredEvents=function(e){var t=this;return this.deferredEmit(function(){0===t._executeWithDeferredEventsCnt&&(t._currentDeferredEventBuilder=new K),t._executeWithDeferredEventsCnt=t._executeWithDeferredEventsCnt+1;var n=e(t._currentDeferredEventBuilder);return t._executeWithDeferredEventsCnt=t._executeWithDeferredEventsCnt-1,0===t._executeWithDeferredEventsCnt&&(t._emitEventsFromEventBuilder(t._currentDeferredEventBuilder),t._currentDeferredEventBuilder=null),n})},t.prototype.change=function(e){var t=this;return this._executeWithDeferredEvents(function(n){var i={},o={insertText:function(e,n,o){return"undefined"==typeof o&&(o=!1),t._insertText(i,e,n,o)},deleteText:function(e){return t._deleteText(i,e)}},r=e(o);o.insertText=null,o.deleteText=null;var s=t.trackedRanges.onChangedMarkers(i);return t.modelDecorations.onChangedRanges(n,s),r})},t.prototype.addTrackedRange=function(e){return this.trackedRanges.add(e)},t.prototype.changeTrackedRange=function(e,t){this.trackedRanges.change(e,t)},t.prototype.removeTrackedRange=function(e){this.trackedRanges.remove(e)},t.prototype.getTrackedRange=function(e){return this.trackedRanges.getRange(e)},t.prototype.changeDecorations=function(e,t){"undefined"==typeof t&&(t=0);var n=this;return this._executeWithDeferredEvents(function(i){return n.modelDecorations.change(i,t,e)})},t.prototype.deltaDecorations=function(e,t,n){"undefined"==typeof n&&(n=0);var i=this;return this._executeWithDeferredEvents(function(o){return i.modelDecorations.change(o,n,function(n){return n.deltaDecorations(e,t)})})},t.prototype.removeAllDecorationsWithOwnerId=function(e){this.modelDecorations.removeAllDecorationsWithOwnerId(e)},t.prototype.getDecorationOptions=function(e){return this.modelDecorations.getOptions(e)},t.prototype.getDecorationRange=function(e){return this.modelDecorations.getRange(e)},t.prototype.getLineDecorations=function(e,t,n){return"undefined"==typeof t&&(t=0),"undefined"==typeof n&&(n=!1),this.getLinesDecorations(e,e,t,n)},t.prototype.getLinesDecorations=function(e,t,n,i){"undefined"==typeof n&&(n=0),"undefined"==typeof i&&(i=!1);var o=this.modelDecorations.getLinesDecorations(e,t,n);return i?this._filterOutValidationDecorations(o):o},t.prototype.getDecorationsInRange=function(e,t,n){this.validateRange(e);var i=this.modelDecorations.getLinesDecorations(e.startLineNumber,e.endLineNumber,t);return n?this._filterOutValidationDecorations(i):i},t.prototype._filterOutValidationDecorations=function(e){var t,n,i,o=[];for(t=0,n=e.length;n>t;t++)i=e[t].options.className,i!==N.ClassName.EditorErrorDecoration&&i!==N.ClassName.EditorWarningDecoration&&o.push(e[t]);return o},t.prototype.getAllDecorations=function(e,t){"undefined"==typeof e&&(e=0),"undefined"==typeof t&&(t=!1);var n=this.modelDecorations.getAll(e);return t?this._filterOutValidationDecorations(n):n},t.prototype._constructLines=function(e){var n=t.splitText(e);return this.BOM=n.BOM,this.EOL=n.EOL,n.lines},t.splitText=function(e){var t=0,n="";e.length>0&&e.charCodeAt(0)===B&&(n=e.charAt(0),t=1);var i,o,r,s,a=-1,u=0,l=0,d=[];for(l=t,i=t,r=e.length;r>i;i++)o=e.charCodeAt(i),o===q&&(a===z?(u++,s=e.substring(l,i-1)):s=e.substring(l,i),l=i+1,d.push(new j(s))),a=o;d.push(new j(e.substring(l)));var c=d.length-1,h="";return h=0===c||u>c/2?"\r\n":"\n",{BOM:n,EOL:h,lines:d}},t.prototype.massageWordDefinitionOf=function(e){var t=O.NullMode.DEFAULT_WORD_REGEXP;if(e.tokenTypeClassificationSupport){try{t=e.tokenTypeClassificationSupport.getWordDefinition()}catch(n){W.onUnexpectedError(n)}if(t instanceof RegExp){if(!t.global){var i="g";t.ignoreCase&&(i+="i"),t.multiline&&(i+="m"),t=new RegExp(t.source,i)}}else t=O.NullMode.DEFAULT_WORD_REGEXP}return t.lastIndex=0,t},t.prototype.getSyntaxTokensHashMap=function(){var e={},t=[];try{t=this.mode.tokenTypeClassificationSupport.getNonWordTokenTypes()}catch(n){W.onUnexpectedError(n)}for(var i=0,o=t.length;o>i;i++)e[t[i]]=!0;return e},t.prototype._iterateWords=function(e,t,n){var i=this.getLineContent(e);this.getStateBeforeLine(e);var o,r,s,a,u,l=this.getInternalTokens(e),d=this.getLineModeTransitions(e),c={};if(t&&this.mode.tokenTypeClassificationSupport&&(c=this.getSyntaxTokensHashMap()),0!==i.length){var h=0,p=h+1<d.length?d[h+1].startIndex:i.length,f=this.massageWordDefinitionOf(d[h].mode);for(o=0,r=0,s=l.length;s>o;o++){if(u=o===s-1?i.length:l[o+1].startIndex,r>=p&&(h++,p=h+1<d.length?d[h+1].startIndex:i.length,f=this.massageWordDefinitionOf(d[h].mode)),!t||!c.hasOwnProperty(l[o].type)){var g,m=i.substring(r,u),v=m.match(f)||[],y=0;for(a=0;a<v.length;a++){var b=v[a].trim();if(b.length>0){g=m.indexOf(b,y),y=g+b.length;var C=n({start:r+g,end:r+y},i);if(C)return C}}}r=u}}},t.prototype.getWordAtText=function(e,t,n,i){var o,r,s,a,u,l,d=i.match(t)||[];for(o=0;o<d.length;o++)if(l=d[o].trim(),l.length>0&&(r=i.indexOf(l,s),s=r+l.length,a=n+r+1,u=n+s+1,a<=e.column&&e.column<=u))return{word:l,startColumn:a,endColumn:u};return null},t.prototype.getWordAtTokens=function(e,t){var n,i,o,r,s,a=this.getInternalTokens(e.lineNumber),u=this.getLineContent(e.lineNumber);for(n=0,i=t.length;i>n;n++){o=t[n],s=a[o].startIndex,r=o<a.length-1?u.substring(s,a[o+1].startIndex):u.substring(s);var l=this.getModeAtPosition(e.lineNumber,e.column),d=this.massageWordDefinitionOf(l),c=this.getWordAtText(e,d,s,r);if(c)return c}return null},t.prototype.getWordAtPosition=function(e,t,n){"undefined"==typeof n&&(n=!1);var i=[];if(n&&!this.lineIsTokenized(e.lineNumber))return this.getWordAtText(e,this.massageWordDefinitionOf(this.mode),0,this.getLineContent(e.lineNumber));var o=this.getInternalTokens(e.lineNumber);if(o.length>0){var r=V.findIndexInSegmentsArray(o,e.column-1),s=null;t?(s=this.getSyntaxTokensHashMap(),s.hasOwnProperty(o[r].type)||i.push(r)):i.push(r),r>0&&o[r].startIndex===e.column-1&&(t?s.hasOwnProperty(o[r-1].type)||i.push(r-1):i.push(r-1))}return 0===i.length?null:this.getWordAtTokens(e,i)},t.prototype.getWordsInText=function(e,t){var n,i,o,r,s,a,u=e.match(t)||[],l=[];for(n=0;n<u.length;n++)a=u[n].trim(),a.length>0&&(i=e.indexOf(a,o),o=i+a.length,r=i,s=o,l.push({start:r,end:s}));return l},t.prototype.getWords=function(e,t,n){if("undefined"==typeof n&&(n=!1),n&&!this.lineIsTokenized(e))return this.getWordsInText(this.lines[e-1].text,this.massageWordDefinitionOf(this.mode));var i=[];return this._iterateWords(e,t,function(e){i.push(e)}),i},t.prototype.findMatches=function(e,t,n,i,o){if(""===e)return[];var r=null;try{r=S.createRegExp(e,n,i,o)}catch(s){return[]}if(S.regExpLeadsToEndlessLoop(r))return[];var a;return a=t?this.getEditableRange():this.getFullModelRange(),this.doFindMatches(a,r)},t.prototype.doFindMatches=function(e,t){var n,i=[],o=0;if(e.startLineNumber===e.endLineNumber)return n=this.lines[e.startLineNumber-1].text.substring(e.startColumn-1,e.endColumn-1),o=this.findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,o,i),i;n=this.lines[e.startLineNumber-1].text.substring(e.startColumn-1),o=this.findMatchesInLine(t,n,e.startLineNumber,e.startColumn-1,o,i);for(var r=e.startLineNumber+1;r<e.endLineNumber&&U>=o;r++)o=this.findMatchesInLine(t,this.lines[r-1].text,r,0,o,i);return U>=o&&(n=this.lines[e.endLineNumber-1].text.substring(0,e.endColumn-1),o=this.findMatchesInLine(t,n,e.endLineNumber,0,o,i)),i},t.prototype.findMatchesInLine=function(e,t,n,i,o,r){var s;do if(s=e.exec(t),s&&(r.push(new I.Range(n,s.index+1+i,n,s.index+1+s[0].length+i)),o++,o>U))return o;while(s);return o},t.prototype._addMarker=function(e,t,n){var i=this.validatePosition(new M.Position(e+1,t)),o={id:(++this.lastMarkerId).toString(),column:i.column,type:n};return this.lines[i.lineNumber-1].markers.push(o),this.markerIdToLineIndex[o.id]=i.lineNumber-1,o.id},t.prototype.__findMarkerInMarkersArray=function(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t)return n;return-1},t.prototype._changeMarker=function(e,t,n){if(this.markerIdToLineIndex.hasOwnProperty(e)){var i=this.markerIdToLineIndex[e],o=this.lines[i].markers,r=this.__findMarkerInMarkersArray(o,e);if(r>=0){var s=o[r],a=this.validatePosition(new M.Position(t+1,n));a.lineNumber-1!==i&&(o.splice(r,1),this.lines[a.lineNumber-1].markers.push(s),this.markerIdToLineIndex[s.id]=a.lineNumber-1),s.column=a.column}}},t.prototype._getMarker=function(e){if(this.markerIdToLineIndex.hasOwnProperty(e)){var t=this.markerIdToLineIndex[e],n=this.lines[t].markers,i=this.__findMarkerInMarkersArray(n,e);if(i>=0)return{lineNumber:t+1,column:n[i].column}}return null},t.prototype._getMarkerLineNumber=function(e){return this.markerIdToLineIndex.hasOwnProperty(e)?this.markerIdToLineIndex[e]+1:-1},t.prototype._getMarkerColumn=function(e,t){var n=this.lines[e-1].markers,i=this.__findMarkerInMarkersArray(n,t);return n[i].column},t.prototype._getLineMarkers=function(e){return this.lines[e-1].markers.slice(0)},t.prototype._removeMarker=function(e){if(this.markerIdToLineIndex.hasOwnProperty(e)){var t=this.markerIdToLineIndex[e],n=this.lines[t].markers,i=this.__findMarkerInMarkersArray(n,e);i>=0&&n.splice(i,1),delete this.markerIdToLineIndex[e]}},t.prototype.validatePosition=function(e){var t=e.lineNumber?e.lineNumber:1,n=e.column?e.column:1;1>t&&(t=1),t>this.linesLength&&(t=this.linesLength),1>n&&(n=1);var i=this.getLineMaxColumn(t);return n>i&&(n=i),new M.Position(t,n)},t.prototype.validateRange=function(e){var t=this.validatePosition(new M.Position(e.startLineNumber,e.startColumn)),n=this.validatePosition(new M.Position(e.endLineNumber,e.endColumn));return new I.Range(t.lineNumber,t.column,n.lineNumber,n.column)},t.prototype._sign=function(e){return 0>e?-1:e>0?1:0},t.prototype._findMatchingBracketUp=function(e,t,n,i){var o,r,s,a,u=i;for(o=t;o>=0;o--){r=this.lines[o];var l=r.getTokens();for(a=(o===t?n:l.length)-1;a>=0;a--)if(l[a].type===e&&(u+=this._sign(l[a].bracket),0===u))return s=a===l.length-1?r.text.length:l[a+1].startIndex,new I.Range(o+1,l[a].startIndex+1,o+1,s+1)}return null},t.prototype._findMatchingBracketDown=function(e,t,n,i){var o,r,s,a,u,l,d=1;for(o=t,s=this.linesLength;s>o;o++){if(i&&!this.lineIsTokenized(o+1))return{range:null,isAccurate:!1};this._updateTokensUntilLine(o+1,!0),r=this.lines[o];var c=r.getTokens();for(u=o===t?n+1:0,l=c.length;l>u;u++)if(c[u].type===e&&(d+=this._sign(c[u].bracket),0===d))return a=u===c.length-1?r.text.length:c[u+1].startIndex,{range:new I.Range(o+1,c[u].startIndex+1,o+1,a+1),isAccurate:!0}}return{range:null,isAccurate:!0}},t.prototype.tokenIterator=function(e,t){var n=new D.TokenIterator(this,this.validatePosition(e)),i=t(n);return n._invalidate(),i},t.prototype.findMatchingBracketUp=function(e,t){this._updateTokensUntilLine(t.lineNumber,!0);var n,i,o,r,s=this.lines[t.lineNumber-1],a=t.column-1,u=-1,l=s.getTokens();for(n=0,i=l.length;-1===u&&i>n;n++)o=l[n],r=n===i-1?s.text.length:l[n+1].startIndex,o.startIndex<=a&&r>=a&&(u=n);return this._findMatchingBracketUp(e,t.lineNumber-1,u+1,0)},t.prototype.matchBracket=function(e,t){if("undefined"==typeof t&&(t=!1),t&&!this.lineIsTokenized(e.lineNumber))return{brackets:null,isAccurate:!1};this._updateTokensUntilLine(e.lineNumber,!0);var n,i,o=this.lines[e.lineNumber-1],r={brackets:null,isAccurate:!0};if(o.text.length>0){var s,a,u=e.column-1,l=o.getTokens();for(n=0,i=l.length;null===r.brackets&&i>n;n++)if(s=l[n],a=n===i-1?o.text.length:l[n+1].startIndex,s.startIndex<=u&&a>=u){if(s.bracket<0){var d=this._findMatchingBracketUp(s.type,e.lineNumber-1,n,-1);d&&(r.brackets=[new I.Range(e.lineNumber,s.startIndex+1,e.lineNumber,a+1),d])}if(null===r.brackets&&s.bracket>0){var c=this._findMatchingBracketDown(s.type,e.lineNumber-1,n,t);r.isAccurate=c.isAccurate,c.range&&(r.brackets=[new I.Range(e.lineNumber,s.startIndex+1,e.lineNumber,a+1),c.range])}}}return r},t.prototype._revalidateTokensNow=function(){this.revalidateTokensTimeout=-1;for(var e,t=50,n=this.invalidLineStartIndex+1,i=Math.min(this.linesLength,this.invalidLineStartIndex+1e6),o=0,r=0,s=0,a=this.stopLineTokenizationAfter,u=(new Date).getTime(),l=n;i>=l;l++){if(e=(new Date).getTime()-u,e>t){i=l-1;break}if(r=this.lines[l-1].text.length,-1!==a&&r>a&&(r=a),o>0&&(s=e/o*r,e+s>t)){i=l-1;break}this._updateTokensUntilLine(l,!1),o+=r}i>=n&&this.emitModelTokensChangedEvent(n,i),this.invalidLineStartIndex<this.linesLength&&this._beginBackgroundTokenization()},t.prototype._beginBackgroundTokenization=function(){var e=this;-1===this.revalidateTokensTimeout&&(this.revalidateTokensTimeout=window.setTimeout(function(){e._revalidateTokensNow()},50))},t.prototype.updateLineTokens=function(e,t){this.lines[e].setTokens(t.tokens)},t.prototype.onModeTokenizationFailed=function(){var e=this;-1===this.modeTokenizationFailedTimeout&&(this.modeTokenizationFailedTimeout=window.setTimeout(function(){e.setMode(new O.NullMode)},200))},t.prototype._updateTokensUntilLine=function(e,n){var i=this.linesLength,o=e-1,r=this.stopLineTokenizationAfter;-1===r&&(r=1e9);for(var s=this.invalidLineStartIndex+1,a=e,u=this.invalidLineStartIndex;o>=u;u++){var l=u+1,d=null,c=this.lines[u].text;if(this.mode.tokenizationSupport){try{d=this.mode.tokenizationSupport.tokenize(this.lines[u].text,this.lines[u].state,0,r)}catch(h){W.onUnexpectedError(h,t.MODE_TOKENIZATION_FAILED_MSG),this.onModeTokenizationFailed()}d&&d.actualStopOffset<c.length&&(d.tokens.push({startIndex:d.actualStopOffset,type:"",bracket:0}),d.endState=this.lines[u].state)}if(d||(d=O.nullTokenize(this.mode,c,this.lines[u].state)),this.updateLineTokens(u,d),this.lines[u].modeTransitions=d.modeTransitions,this.lines[u].isInvalid&&(this.lines[u].isInvalid=!1),i>l)if(null!==this.lines[l].state&&d.endState.equals(this.lines[l].state)){for(var p=u+1;i>p&&!this.lines[p].isInvalid;){if(i>p+1){if(null===this.lines[p+1].state)break}else if(null===this.lastState)break;p++}this.invalidLineStartIndex=Math.max(this.invalidLineStartIndex,p),u=p-1}else this.lines[l].state=d.endState;else this.lastState=d.endState}n&&a>=s&&this.emitModelTokensChangedEvent(s,a),this.invalidLineStartIndex=Math.max(this.invalidLineStartIndex,o+1)},t.prototype._changeLine=function(e,t){this.lines[e].text=t,this._invalidateLine(e),this._versionId++,this.emitModelContentChangedLineChangedEvent(e+1)},t.prototype._invalidateLine=function(e){this.lines[e].isInvalid=!0,e<this.invalidLineStartIndex&&(this.invalidLineStartIndex<this.linesLength&&(this.lines[this.invalidLineStartIndex].isInvalid=!0),this.invalidLineStartIndex=e,this._beginBackgroundTokenization())},t.prototype._beforeMarkerChange=function(e,t){if(!t.hasOwnProperty(e.id)){var n={id:e.id,oldLineIndex:this.markerIdToLineIndex[e.id],oldColumn:e.column};t[e.id]=n}},t.prototype._shouldMoveMarkerOnTextInsert=function(e,t,n,i){return t>n?!0:t===n?i||"end"===e:!1},t.prototype._insertTextOneLine=function(e,t,n,i){var o=t.lineNumber-1,r=t.column,s=this.lines[o],a=s.text;this._changeLine(o,a.substring(0,r-1)+n+a.substring(r-1,a.length));for(var u,l=new M.Position(o+1,r+n.length),d=0,c=s.markers.length;c>d;d++)u=s.markers[d],this._shouldMoveMarkerOnTextInsert(u.type,u.column,r,i)&&(this._beforeMarkerChange(u,e),u.column+=n.length);return l},t.prototype._insertTextMultiline=function(e,t,n,i){var o,r,s=t.lineNumber-1,a=t.column,u=this.lines[s].text,l=u.substring(a-1,u.length);this._changeLine(s,u.substring(0,a-1)+n[0]);var d="";for(o=1,r=n.length-1;r>o;o++)d+=n[o]+"\n",this.lines.splice(s+o,0,new j(n[o]));var c=s+n.length-1,h=n[n.length-1],p=h+l,f=[];this.lines.splice(c,0,new j(p,f)),this.linesLength=this.lines.length;var g,m=this.lines[s].markers;for(o=0;o<m.length;o++)g=m[o],this._shouldMoveMarkerOnTextInsert(g.type,g.column,a,i)&&(this._beforeMarkerChange(g,e),m.splice(o,1),f.push(g),g.column+=h.length-a+1,this.markerIdToLineIndex[g.id]=c,o--);var v,y,b;for(o=c+1;o<this.linesLength;o++)for(b=this.lines[o].markers,v=0,y=b.length;y>v;v++)g=b[v],this._beforeMarkerChange(g,e),this.markerIdToLineIndex[g.id]=o;return n.length>1&&(this._versionId++,this.emitModelContentChangedLinesInsertedEvent(s+2,c+1,d+p)),new M.Position(c+1,1+h.length)},t.prototype._insertText=function(e,t,n,i){var o=this.validatePosition(t);if(0===n.length)return o;for(var r=n.split("\n"),s=0,a=r.length;a>s;s++)"\r"===r[s].charAt(r[s].length-1)&&(r[s]=r[s].substring(0,r[s].length-1));return 1===r.length?this._insertTextOneLine(e,o,r[0],i):this._insertTextMultiline(e,o,r,i)},t.prototype._deleteTextOneLine=function(e,t){var n=t.startLineNumber-1,i=this.lines[n],o=this.lines[n].text,r=o.substring(t.startColumn-1,t.endColumn-1);this._changeLine(n,o.substring(0,t.startColumn-1)+o.substring(t.endColumn-1,o.length));for(var s,a=0,u=i.markers.length;u>a;a++)s=i.markers[a],s.column>=t.endColumn?(this._beforeMarkerChange(s,e),s.column-=t.endColumn-t.startColumn):s.column>=t.startColumn&&(this._beforeMarkerChange(s,e),s.column=t.startColumn);return{position:new M.Position(t.startLineNumber,t.startColumn),deletedText:r}},t.prototype._deleteTextMultiline=function(e,t){var n=t.startLineNumber-1,i=t.endLineNumber-1,o=this.lines[i],r=o.text,s=r.substring(t.endColumn-1,r.length),a=this.lines[n],u=a.text;this._changeLine(n,u.substring(0,t.startColumn-1)+s);var l,d,c=u.substring(t.startColumn-1,u.length);for(l=n+1;i>l;l++)c+="\n"+this.lines[l].text;c+="\n"+r.substring(0,t.endColumn-1);var h=i-n,p=this.lines.splice(n+1,h);this.linesLength=this.lines.length;var f;for(l=0,d=a.markers.length;d>l;l++)f=a.markers[l],f.column>t.startColumn&&(this._beforeMarkerChange(f,e),f.column=t.startColumn);for(l=0;l<o.markers.length;l++)f=o.markers[l],f.column>=t.endColumn&&(this._beforeMarkerChange(f,e),o.markers.splice(l,1),a.markers.push(f),f.column-=t.endColumn-t.startColumn,this.markerIdToLineIndex[f.id]=n,l--);var g=[];for(l=0,d=p.length;d>l;l++)g=g.concat(p[l].markers);for(l=0,d=g.length;d>l;l++)f=g[l],this._beforeMarkerChange(f,e),f.column=t.startColumn,this.markerIdToLineIndex[f.id]=n;a.markers=a.markers.concat(g);var m,v,y;for(l=n+1;l<this.linesLength;l++)for(y=this.lines[l].markers,m=0,v=y.length;v>m;m++)f=y[m],this._beforeMarkerChange(f,e),this.markerIdToLineIndex[f.id]=l;return this._versionId++,this.emitModelContentChangedLinesDeletedEvent(n+2,i+1),{position:new M.Position(t.startLineNumber,t.startColumn),deletedText:c}},t.prototype._deleteText=function(e,t){var n=this.validateRange(t);return n.isEmpty()?{position:new M.Position(n.startLineNumber,n.startColumn),deletedText:""}:n.startLineNumber===n.endLineNumber?this._deleteTextOneLine(e,n):this._deleteTextMultiline(e,n)},t.prototype._publishMarkerUpdate=function(e){var t=P.createMarkerUpdateFromJson(e);null!==this.markerService&&this.markerService.change(function(e){e.processMarkerUpdate(t)});for(var n=t.getId(),i=this.markerDecorationIds[n]||[],o=[],r=t.getMarkers(),s=0;s<r.length;s++){var a=r[s];"object"==typeof a.range&&o.push({range:a.range,options:this._createDecorationOption(a)})}this.markerDecorationIds[t.getId()]=this.deltaDecorations(i,o)},t.prototype._createDecorationOption=function(e){var t=e.severity===P.Severity.Error;return{isOverlay:!0,className:t?N.ClassName.EditorErrorDecoration:N.ClassName.EditorWarningDecoration,hoverMessage:e.text,showInOverviewRuler:t?"rgba(255,18,18,0.7)":"rgba(18,136,18,0.7)",glyphMarginClassName:t?"glyph-error":"glyph-warning"}},t.prototype.emitModelTokensChangedEvent=function(e,t){var n={fromLineNumber:e,toLineNumber:t};this.emit(N.EventType.ModelTokensChanged,n)},t.prototype.emitModelContentChangedFlushEvent=function(e){var t={changeType:N.EventType.ModelContentChangedFlush,detail:this.getValue(H.EndOfLinePreference.LF),modeChanged:e,versionId:this._versionId,isUndoing:!1,isRedoing:!1};this.emit(N.EventType.ModelContentChanged,t)},t.prototype.emitModelContentChangedLineChangedEvent=function(e){var t={changeType:N.EventType.ModelContentChangedLineChanged,lineNumber:e,detail:this.lines[e-1].text,versionId:this._versionId,isUndoing:this.isUndoing,isRedoing:this.isRedoing};this.emit(N.EventType.ModelContentChanged,t)},t.prototype.emitModelContentChangedLinesDeletedEvent=function(e,t){var n={changeType:N.EventType.ModelContentChangedLinesDeleted,fromLineNumber:e,toLineNumber:t,versionId:this._versionId,isUndoing:this.isUndoing,isRedoing:this.isRedoing};this.emit(N.EventType.ModelContentChanged,n)},t.prototype.emitModelContentChangedLinesInsertedEvent=function(e,t,n){var i={changeType:N.EventType.ModelContentChangedLinesInserted,fromLineNumber:e,toLineNumber:t,detail:n,versionId:this._versionId,isUndoing:this.isUndoing,isRedoing:this.isRedoing};this.emit(N.EventType.ModelContentChanged,i)},t.prototype.emitModelPropertiesChangedEvent=function(){var e={properties:this.extraProperties};this.emit(N.EventType.ModelPropertiesChanged,e)},t.prototype.emitModelDecorationsChangedEvent=function(e){this.emit(N.EventType.ModelDecorationsChanged,e)},t.MODE_TOKENIZATION_FAILED_MSG=_.localize("vs_editor_core_model_model",0),t}(x.EventEmitter);t.Model=J}),define("vs/editor/worker/modesWorker",["require","exports","vs/base/lib/winjs.base","vs/editor/diff/diffComputer","vs/editor/modes/modesFilters","vs/editor/core/model/model"],function(e,t,n,i,o,r){"use strict";var s=n,a=i,u=o,l=r,d=function(){function e(){this.workerParticipants=[],this.autoValidateDelay=500}return e.prototype.injectPublisherService=function(e){this.publisher=e},e.prototype.injectResourceService=function(e){this.resourceService=e},e.prototype.injectDispatcherService=function(e){this.dispatchService=e,this.dispatchService.register(this)},e.prototype.injectMarkerService=function(e){this.markerService=e},e.prototype.setExtraData=function(){},e.prototype.addWorkerParticipant=function(e){this.workerParticipants.push(e)},e.prototype.validate=function(e){var t=this;return this.markerService.createPublisher().batchChanges(function(n){t.doValidate(e,n)}),s.Promise.as(null)},e.prototype.triggerValidateParticipation=function(e,t,n){"undefined"==typeof n&&(n=null);var i=this.resourceService.get(e);this.workerParticipants.forEach(function(e){try{"function"==typeof e.validate&&e.validate(i,t,n)}catch(o){}})},e.prototype.doValidate=function(){},e.prototype.suggest=function(e,t){var n=this,i=[],o=this.resourceService.get(e),r=o.getWordUntilPosition(t),a={currentWord:r,suggestions:[]};return i.push(this.doSuggest(e,t)),this.workerParticipants.forEach(function(e){try{"function"==typeof e.suggest&&i.push(e.suggest(t,o))}catch(n){}}),s.Promise.join(i).then(function(e){for(var t=n.getSuggestionFilterMain(),i=0;i<e.length;i++)e[i].forEach(function(e){t(r,e)&&a.suggestions.push(e)});return a},function(){return a.currentWord="",a.suggestions=[],a})},e.prototype.doSuggest=function(e,t){var n=[];return n.push.apply(n,this.suggestWords(e,t)),n.push.apply(n,this.suggestSnippets(e,t)),s.Promise.as(n)
},e.prototype.suggestWords=function(e,t){var n=this.resourceService.get(e),i=n.getWordUntilPosition(t),o=n.getAllUniqueWords(i);return o.filter(function(e){return!/^-?\d*\.?\d/.test(e)}).map(function(e){return{type:"text",label:e,codeSnippet:e}})},e.prototype.suggestSnippets=function(){return[]},e.prototype.getSuggestionFilterMain=function(){var e=this.getSuggestionFilter();return this.workerParticipants.forEach(function(t){"function"==typeof t.filter&&(e=u.and(e,t.filter))}),e},e.prototype.getSuggestionFilter=function(){return e.filter},e.prototype.findOccurrences=function(e,t){var n=this.resourceService.get(e),i=n.getWordAtPosition(t),o=[];return n.getAllWordsWithRange().forEach(function(e){e.text===i&&o.push({range:e.range})}),s.TPromise.as(o.slice(0,1e3))},e.prototype.computeDiff=function(e,t){var n=this.resourceService.get(e),i=this.resourceService.get(t);if(null!==n&&null!==i){var o=n.getRawLines(),r=i.getRawLines(),u=new a.DiffComputer(o,r,!0,!0);return s.TPromise.as(u.computeDiff())}return s.TPromise.as(null)},e.prototype.computeDirtyDiff=function(e){var t=this.resourceService.get(e),n=t.getProperty("original");if(n&&null!==t){var i=l.Model.splitText(n),o=i.lines.map(function(e){return e.text}),r=t.getRawLines(),u=new a.DiffComputer(o,r,!1,!0);return s.TPromise.as(u.computeDiff())}return s.TPromise.as([])},e.prototype.navigateValueSet=function(e,t,n){var i=this.doNavigateValueSet(e,t,n,!0);return s.TPromise.as(i&&i.value&&i.range?i:null)},e.prototype.doNavigateValueSet=function(e,t,n,i){var o,r=this.resourceService.get(e),s={range:null,value:null};if(i)t.startColumn===t.endColumn&&(t.endColumn+=1),o=r.getValueInRange(t),s.range=t;else{var a={lineNumber:t.startLineNumber,column:t.startColumn},u=r.getWordUntilPosition(a);if(o=r.getWordAtPosition(a),0!==o.indexOf(u))return null;if(o.length<t.endColumn-t.startColumn)return null;s.range=t,s.range.startColumn=a.column-u.length,s.range.endColumn=s.range.startColumn+o.length}var l=this.numberReplace(o,n);if(null!==l)s.value=l;else{var d=this.textReplace(o,n);if(null!==d)s.value=d;else if(i)return this.doNavigateValueSet(e,t,n,!1)}return s},e.prototype.numberReplace=function(e,t){var n=Math.pow(10,e.length-(e.lastIndexOf(".")+1)),i=Number(e),o=parseFloat(e);return isNaN(i)||isNaN(o)||i!==o?null:0!==i||t?(i=Math.floor(i*n),i+=t?n:-n,String(i/n)):null},e.prototype.textReplace=function(){return null},e.prototype.valueSetsReplace=function(e,t,n){for(var i=null;e.length>0&&null===i;)i=this.valueSetReplace(e.pop(),t,n);return i},e.prototype.valueSetReplace=function(e,t,n){var i=e.indexOf(t);return i>=0?(i+=n?1:-1,0>i?i=e.length-1:i%=e.length,e[i]):null},e.prototype.createLink=function(e,t,n,i){return{range:{startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:i+1},url:e.substring(n,i)}},e.prototype.computeLinks=function(e){var t,n,i=this.resourceService.get(e),o=[],r=[],a=1,u=9,l=10;r[1]={h:2,H:2},r[2]={t:3,T:3},r[3]={t:4,T:4},r[4]={p:5,P:5},r[5]={s:6,S:6,":":7},r[6]={":":7},r[7]={"/":8},r[8]={"/":9};var d="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-?=&#@:+%",c=[],h=0;for(t=0;t<d.length;t++)h=Math.max(h,d.charCodeAt(t));h=Math.max("<".charCodeAt(0),"(".charCodeAt(0),"[".charCodeAt(0),"{".charCodeAt(0));for(var t=0;h>=t;t++)c[t]=String.fromCharCode(t);for(t=0;t<d.length;t++)c[d.charCodeAt(t)]=null;c["<".charCodeAt(0)]=">",c["(".charCodeAt(0)]=")",c["[".charCodeAt(0)]="]",c["{".charCodeAt(0)]="}";var p,f,g,m,v,y,b,C,_;for(t=1,n=i.getLineCount();n>=t;t++){for(p=i.getLineContent(t),f=0,g=p.length,m=null,v=0,y=a;g>f;)b=p.charAt(f),_=!1,y===l?(" "===b||"	"===b||b===m)&&(o.push(this.createLink(p,t,v,f)),_=!0):y===u?" "===b||"	"===b||b===m?_=!0:y=l:r[y].hasOwnProperty(b)?y=r[y][b]:_=!0,_&&(y=a,v=f+1,C=p.charCodeAt(f),m=C<c.length?c[C]:b),f++;y===l&&o.push(this.createLink(p,t,v,g))}return s.TPromise.as(o)},e.filter=u.DefaultFilter,e}();t.AbstractWorkerMode=d}),define("vs/editor/worker/editorWorkerServer",["require","exports","vs/base/lib/winjs.base","vs/base/types","vs/platform/services","vs/platform/injectorService","vs/platform/telemetry/telemetryService","vs/platform/markers/markersWorker","./resourceService","./dispatcherService","vs/editor/worker/modesWorker"],function(e,t,n,i,o,r,s,a,u,l){"use strict";var d=n,c=i,h=o,p=r,f=s,g=a,m=u,v=l,y=function(){function t(){var e=this;this.dispatcherService=new v.DispatcherService,this.modePromise=new d.Promise(function(t){e.modeCompleteCallback=t})}return t.prototype.initialize=function(t,n,i,o,r){var s=this;try{var a={sendMessage:function(e,n){t.request(e,n)}},u=p.create({contextService:new h.BaseContextService(r.workspace,r.configuration,r.options),requestService:new h.BaseRequestService,resourceService:new m.WorkerResourceService,dispatcherService:this.dispatcherService,publisherService:a,markerService:new g.MarkerService,telemetryService:new f.TelemetryService(!1)});e([r.languageModeModuleId],function(e){if(u.injectTo(e.value),"function"==typeof e.value.setExtraData&&e.value.setExtraData(r.extraData||null),"function"==typeof e.value.configure&&e.value.configure(r.configData||null).done(null,function(e){i(s._transformError(e))}),r.participants&&r.participants.length>0){for(var o=[],a=function(n){return function(i,o,r){s._loadWorkerParticipant(t,e.value,i,o,r,n)}},l=0;l<r.participants.length;l++)o.push(new d.Promise(a(r.participants[l])));d.Promise.join(o).then(function(){s.modeCompleteCallback(e.value),n(null)},function(t){i(s._transformError(t)),s.modeCompleteCallback(e.value),n(null)})}else s.modeCompleteCallback(e.value),n(null)})}catch(l){i(this._transformError(l))}},t.prototype.request=function(e,t,n,i,o){o.mainThread=e,this.dispatcherService.dispatch(o).then(t,n,i)},t.prototype.addWorkerParticipant=function(e,t,n,i,o){var r=this;this.modePromise.then(function(s){r._loadWorkerParticipant(e,s,t,n,i,o)}).done(null,n)},t.prototype._loadWorkerParticipant=function(e,t,n,i,o,r){e.loadModule(r.moduleId,function(e){if(c.isUndefinedOrNull(e[r.ctorName])){var o="module "+r._moduleId+" doesn't export "+r.ctorName;i(new Error(o))}var s=c.create(e[r.ctorName]);t.addWorkerParticipant(s),n(null)},i)},t.prototype._transformError=function(e){var t={};return e.stacktrace?t.stack=e.stacktrace.split("\n"):e.stack&&(t.stack=e.stack.split("\n")),t.message=e.toString(),t},t}();t.EditorWorkerServer=y,t.value=new y});